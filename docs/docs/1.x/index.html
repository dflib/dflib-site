<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Asciidoctor 2.0.17" />
    <meta name="author" content="Andrus Adamchik and other contributors" />
    <title>DFLib Documentation</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"
    />
    <style>
        @font-face{font-family:Lato;src:url(../../fonts/Lato-Bold.woff2) format("woff2"),url(../../fonts/Lato-Bold.woff) format("woff");font-weight:700;font-style:normal;font-display:swap}@font-face{font-family:Lato;src:url(../../fonts/Lato-Regular.woff2) format("woff2"),url(../../fonts/Lato-Regular.woff) format("woff");font-weight:400;font-style:normal;font-display:swap}.footer,.header{font-family:Lato,sans-serif;font-size:16px;font-weight:400;line-height:1.5;-webkit-text-size-adjust:100%;background:#141518;color:#fff;position:relative;z-index:9999}.d_cntnr{display:flow-root;box-sizing:content-box;max-width:1120px;margin-left:auto;margin-right:auto;padding-left:15px;padding-right:15px}.d_rw{display:flex;flex-wrap:wrap;column-gap:30px;row-gap:30px;box-sizing:border-box}.d_rw+.d_rw{margin-top:40px}[class^=d_cl]{flex:1 1 100%;box-sizing:border-box}.d_cl_a{flex-grow:0;flex-shrink:0;flex-basis:auto}.d_cl_expand{flex:1}.d_n_xs{display:none}button{background:0 0;border:none;padding:0}button:hover{cursor:pointer}.header{margin-bottom:40px}.header a{text-decoration:none;color:#fff;text-transform:uppercase;font-weight:600}.header a:hover{color:#fff;text-decoration:underline}.d_content h1{margin-top:20px}.d_btn{margin:0;color:#fff;display:inline-block;font-size:1rem;line-height:1.5;font-weight:700;text-align:center;text-decoration:none;padding:10px;background:#1b1c21;transition:background .3s ease-in-out;margin-left:auto;margin-right:auto;border-radius:40px;min-width:246px}.d_btn:hover{background:#383a43}.d_btn:active{background:#fff;color:#333}.header{padding:21px 0;background:#1b1c21}.header .d_rw{justify-content:space-between;align-items:center}.header .d_m_m{display:none}.header .d_m_m.d_show{display:flex}.d_logo_box a{display:flex}.d_hbrg{padding:6px 0;display:flex}.d_hbrg i,.d_hbrg i:after,.d_hbrg i:before{transition:all .2s ease-out;background:#fff;border-radius:2px;height:2px;width:21px}.d_hbrg i{position:relative;line-height:1}.d_hbrg i:after,.d_hbrg i:before{content:"";position:absolute;left:0}.d_hbrg i:after{bottom:-5px}.d_hbrg i:before{top:-5px}.d_v_s{display:none}
    </style>
    <style>
      html{font-family:sans-serif;-webkit-text-size-adjust:100%;}a{background:0 0;}a:focus{outline:thin dotted;}a:active,a:hover{outline:0;}h1{font-size:2em;margin:.67em 0;}b,strong{font-weight:700;}abbr{font-size:.9em;}abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none;}dfn{font-style:italic;}hr{height:0;}mark{background:#ff0;color:#000;}code,kbd,pre,samp{font-family:monospace;font-size:1em;}pre{white-space:pre-wrap;}q{quotes:"\201C""\201D""\2018""\2019";}small{font-size:80%;}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline;}sup{top:-.5em;}sub{bottom:-.25em;}img{border:0;}svg:not(:root){overflow:hidden;}figure{margin:0;}audio,video{display:inline-block;}audio:not([controls]){display:none;height:0;}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em;}legend{border:0;padding:0;}button,input,select,textarea{font-family:inherit;font-size:100%;margin:0;}button,input{line-height:normal;}button,select{text-transform:none;}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer;}button[disabled],html input[disabled]{cursor:default;}input[type="checkbox"],input[type="radio"]{padding:0;}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}textarea{overflow:auto;vertical-align:top;}table{border-collapse:collapse;border-spacing:0;}*,::after,::before{box-sizing:border-box;}body,html{font-size:100%;}body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;}a:hover{cursor:pointer;}embed,img,object{max-width:100%;height:auto;}embed,object{height:100%;}img{-ms-interpolation-mode:bicubic;}.left{float:left!important;}.right{float:right!important;}.text-left{text-align:left!important;}.text-right{text-align:right!important;}.text-center{text-align:center!important;}.text-justify{text-align:justify!important;}.hide{display:none;}img,object,svg{display:inline-block;vertical-align:middle;}textarea{height:auto;min-height:50px;}select{width:100%;}.admonitionblock td.content>.title,.audioblock>.title,.dlist>.title,.exampleblock>.title,.hdlist>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.olist>.title,.openblock>.title,.paragraph>.title,.qlist>.title,.quoteblock>.title,.stemblock>.title,.subheader,.ulist>.title,.verseblock>.title,.videoblock>.title,table.tableblock>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em;}#toctitle,.sidebarblock>.content>.title,blockquote,dd,div,dl,dt,form,h1,h2,h3,h4,h5,h6,li,ol,p,pre,td,th,ul{margin:0;padding:0;}a{color:#2156a5;text-decoration:underline;line-height:inherit;}a:focus,a:hover{color:#1d4b8f;}a img{border:0;}p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility;}p aside{font-size:.875em;line-height:1.35;font-style:italic;}#toctitle,.sidebarblock>.content>.title,h1,h2,h3,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em;}#toctitle small,.sidebarblock>.content>.title small,h1 small,h2 small,h3 small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0;}h1{font-size:2.125em;}h2{font-size:1.6875em;}#toctitle,.sidebarblock>.content>.title,h3{font-size:1.375em;}h4,h5{font-size:1.125em;}h6{font-size:1em;}hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;}em,i{font-style:italic;line-height:inherit;}b,strong{font-weight:700;line-height:inherit;}small{font-size:60%;line-height:inherit;}code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9);}dl,ol,ul{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit;}ol,ul{margin-left:1.5em;}ul li ol,ul li ul{margin-left:1.25em;margin-bottom:0;}ul.circle li ul,ul.disc li ul,ul.square li ul{list-style:inherit;}ul.square{list-style-type:square;}ul.circle{list-style-type:circle;}ul.disc{list-style-type:disc;}ol li ol,ol li ul{margin-left:1.25em;margin-bottom:0;}dl dt{margin-bottom:.3125em;font-weight:700;}dl dd{margin-bottom:1.25em;}blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd;}blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85);}@media screen and (min-width:768px){#toctitle,.sidebarblock>.content>.title,h1,h2,h3,h4,h5,h6{line-height:1.2}h1{font-size:2.75em}h2{font-size:2.3125em}#toctitle,.sidebarblock>.content>.title,h3{font-size:1.6875em}h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal;}table tfoot,table thead{background:#f7f8f7;}table tfoot tr td,table tfoot tr th,table thead tr td,table thead tr th{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left;}table tr td,table tr th{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8);}table tr.alt,table tr.even{background:#f8f8f7;}table tbody tr td,table tfoot tr td,table tfoot tr th,table thead tr th,table tr td{line-height:1.6;}#toctitle,.sidebarblock>.content>.title,h1,h2,h3,h4,h5,h6{line-height:1.2;word-spacing:-.05em;}#toctitle strong,.sidebarblock>.content>.title strong,h1 strong,h2 strong,h3 strong,h4 strong,h5 strong,h6 strong{font-weight:400;}.center{margin-left:auto;margin-right:auto;}.stretch{width:100%;}.clearfix::after,.clearfix::before,.float-group::after,.float-group::before{content:" ";display:table;}.clearfix::after,.float-group::after{clear:both;}:not(pre).nobreak{word-wrap:normal;}:not(pre).nowrap{white-space:nowrap;}:not(pre).pre-wrap{white-space:pre-wrap;}:not(pre):not([class^="L"])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;}pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed;}pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit;}pre>code{display:block;}pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal;}em em{font-style:normal;}strong strong{font-weight:400;}.keyseq{color:rgba(51,51,51,.8);}kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap;}.keyseq kbd:first-child{margin-left:0;}.keyseq kbd:last-child{margin-right:0;}.menuref,.menuseq{color:#000;}.menuref,.menuseq b:not(.caret){font-weight:inherit;}.menuseq{word-spacing:-.02em;}.menuseq b.caret{font-size:1.25em;line-height:.8;}.menuseq i.caret{font-weight:700;text-align:center;width:.45em;}b.button::after,b.button::before{position:relative;top:-1px;font-weight:400;}b.button::before{content:"[";padding:0 3px 0 2px;}b.button::after{content:"]";padding:0 2px 0 3px;}p a>code:hover{color:rgba(0,0,0,.9);}#content,#footer,#footnotes,#header{width:100%;margin:0 auto;position:relative;}#content::after,#content::before,#footer::after,#footer::before,#footnotes::after,#footnotes::before,#header::after,#header::before{content:" ";display:table;}#content::after,#footer::after,#footnotes::after,#header::after{clear:both;}#content{margin-top:1.25em;}#content::before{content:none;}#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0;}#header>h1:first-child + #toc{margin-top:8px;border-top:1px solid #dddddf;}#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px;}#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap;}#header .details span:first-child{margin-left:-.125em;}#header .details span.email a{color:rgba(0,0,0,.85);}#header .details br{display:none;}#header .details br + span::before{content:"\00a0\2013\00a0";}#header .details br + span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85);}#header .details br + span#revremark::before{content:"\00a0|\00a0";}#header #revnumber{text-transform:capitalize;}#header #revnumber::after{content:"\00a0";}#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem;}#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em;}#toc>ul{margin-left:.125em;}#toc ul.sectlevel0>li>a{font-style:italic;}#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0;}#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none;}#toc li{line-height:1.3334;margin-top:.3334em;}#toc a{text-decoration:none;}#toc a:active{text-decoration:underline;}#toctitle{color:#7a2518;font-size:1.2em;}@media screen and (min-width:768px){#toctitle{font-size:1.375em}#toc.toc2{margin-top:0!important;background:#f8f8f7;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%}#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}#toc.toc2>ul{font-size:.9em;margin-bottom:0}#toc.toc2 ul ul{margin-left:0;padding-left:1em}#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9}}@media screen and (min-width:1280px){#toc.toc2 #toctitle{font-size:1.375em}#toc.toc2>ul{font-size:.95em}#toc.toc2 ul ul{padding-left:1.25em}}#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px;}#content #toc>:first-child{margin-top:0;}#content #toc>:last-child{margin-bottom:0;}#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em;}#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44;}#content{margin-bottom:.625em;}.sect1{padding-bottom:.625em;}@media screen and (min-width:768px){#content{margin-bottom:1.25em}.sect1{padding-bottom:1.25em}}.sect1:last-child{padding-bottom:0;}.sect1 + .sect1{border-top:1px solid #e7e7e9;}#content h1>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h2>a.anchor,h3>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400;}#content h1>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em;}#content h1:hover>a.anchor,#content h1>a.anchor:hover,#toctitle:hover>a.anchor,#toctitle>a.anchor:hover,.sidebarblock>.content>.title:hover>a.anchor,.sidebarblock>.content>.title>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,h3>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible;}#content h1>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h2>a.link,h3>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none;}#content h1>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h2>a.link:hover,h3>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221;}.audioblock,.imageblock,.listingblock,.literalblock,.stemblock,.videoblock,details{margin-bottom:1.25em;}details{margin-left:1.25rem;}details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:0;-webkit-tap-highlight-color:transparent;}details>summary::-webkit-details-marker{display:none;}details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%);}details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%);}details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem;}.admonitionblock td.content>.title,.audioblock>.title,.dlist>.title,.exampleblock>.title,.hdlist>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.olist>.title,.openblock>.title,.paragraph>.title,.qlist>.title,.quoteblock>.title,.stemblock>.title,.ulist>.title,.verseblock>.title,.videoblock>.title,table.tableblock>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic;}table.tableblock.fit-content>caption.title{white-space:nowrap;width:0;}#preamble>.sectionbody>[class="paragraph"]:first-of-type p,.paragraph.lead>p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85);}.admonitionblock>table{border-collapse:separate;border:0;background:0 0;width:100%;}.admonitionblock>table td.icon{text-align:center;width:80px;}.admonitionblock>table td.icon img{max-width:none;}.admonitionblock>table td.icon .title{font-weight:700;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase;}.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere;}.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0;}.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px;}.exampleblock>.content>:first-child{margin-top:0;}.exampleblock>.content>:last-child{margin-bottom:0;}.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px;}.sidebarblock>:first-child{margin-top:0;}.sidebarblock>:last-child{margin-bottom:0;}.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center;}.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child{margin-bottom:0;}.listingblock>.content>pre,.literalblock pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em;}@media screen and (min-width:768px){.listingblock>.content>pre,.literalblock pre{font-size:.90625em}}@media screen and (min-width:1280px){.listingblock>.content>pre,.literalblock pre{font-size:1em}}.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "],.literalblock pre{background:#f7f7f8;}.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9);}.listingblock>.content{position:relative;}.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5;}.listingblock:hover code[data-lang]::before{display:block;}.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5;}.listingblock.terminal pre .command:not([data-prompt])::before{content:"$";}.listingblock pre.highlightjs{padding:0;}.listingblock pre.highlightjs>code{padding:1em;border-radius:4px;}.listingblock pre.prettyprint{border-width:0;}.prettyprint{background:#f7f7f8;}pre.prettyprint .linenums{line-height:1.45;margin-left:2em;}pre.prettyprint li{background:0 0;list-style-type:inherit;padding-left:0;}pre.prettyprint li code[data-lang]::before{opacity:1;}pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none;}table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:0 0;}table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal;}table.linenotable td.code{padding-left:.75em;}pre.pygments .linenos,table.linenotable td.linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}pre.pygments span.linenos{display:inline-block;margin-right:.75em;}.quoteblock{margin:0 1em 1.25em 1.5em;display:table;}.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em;}.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify;}.quoteblock blockquote{margin:0;padding:0;border:0;}.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:700;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1);}.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0;}.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right;}.verseblock{margin:0 1em 1.25em;}.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility;}.verseblock pre strong{font-weight:400;}.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex;}.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic;}.quoteblock .attribution br,.verseblock .attribution br{display:none;}.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6);}.quoteblock .quoteblock blockquote::before,.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before{display:none;}.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p,.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p{line-height:1.6;word-spacing:0;}.quoteblock.abstract{margin:0 1em 1.25em;display:block;}.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center;}.quoteblock .quoteblock,.quoteblock.excerpt>blockquote{padding:0 0 .25em 1em;border-left:.25em solid #dddddf;}.quoteblock .quoteblock,.quoteblock.excerpt{margin-left:0;}.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p{color:inherit;font-size:1.0625rem;}.quoteblock .quoteblock .attribution,.quoteblock.excerpt .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0;}p.tableblock:last-child{margin-bottom:0;}td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere;}td.tableblock>.content>:last-child{margin-bottom:-1.25em;}table.tableblock,td.tableblock,th.tableblock{border:0 solid #dedede;}table.grid-all>*>tr>*{border-width:1px;}table.grid-cols>*>tr>*{border-width:0 1px;}table.grid-rows>*>tr>*{border-width:1px 0;}table.frame-all{border-width:1px;}table.frame-ends{border-width:1px 0;}table.frame-sides{border-width:0 1px;}table.frame-none>colgroup + *>:first-child>*,table.frame-sides>colgroup + *>:first-child>*{border-top-width:0;}table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0;}table.frame-ends>*>tr>:first-child,table.frame-none>*>tr>:first-child{border-left-width:0;}table.frame-ends>*>tr>:last-child,table.frame-none>*>tr>:last-child{border-right-width:0;}table.stripes-all>*>tr,table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover,table.stripes-odd>*>tr:nth-of-type(odd){background:#f8f8f7;}td.halign-left,th.halign-left{text-align:left;}td.halign-right,th.halign-right{text-align:right;}td.halign-center,th.halign-center{text-align:center;}td.valign-top,th.valign-top{vertical-align:top;}td.valign-bottom,th.valign-bottom{vertical-align:bottom;}td.valign-middle,th.valign-middle{vertical-align:middle;}table tfoot th,table thead th{font-weight:700;}tbody tr th{background:#f7f8f7;}tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:700;}p.tableblock>code:only-child{background:0 0;padding:0;}p.tableblock{font-size:1em;}ol{margin-left:1.75em;}ul li ol{margin-left:1.5em;}dl dd{margin-left:1.125em;}dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0;}.olist .olist,.olist .ulist,.ulist .olist,.ulist .ulist,li p,ol dd,ul dd{margin-bottom:.625em;}ol.no-bullet,ol.none,ol.unnumbered,ol.unstyled,ul.checklist,ul.no-bullet,ul.none,ul.unstyled{list-style-type:none;}ol.no-bullet,ol.unnumbered,ul.no-bullet{margin-left:.625em;}ol.unstyled,ul.unstyled{margin-left:0;}li>p:empty:only-child::before{content:"";display:inline-block;}ul.checklist>li>p:first-child{margin-left:-1em;}ul.checklist>li>p:first-child>.fa-check-square-o:first-child,ul.checklist>li>p:first-child>.fa-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em;}ul.checklist>li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em;}ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em;}ul.inline>li{margin-left:1.25em;}.unstyled dl dt{font-weight:400;font-style:normal;}ol.arabic{list-style-type:decimal;}ol.decimal{list-style-type:decimal-leading-zero;}ol.loweralpha{list-style-type:lower-alpha;}ol.upperalpha{list-style-type:upper-alpha;}ol.lowerroman{list-style-type:lower-roman;}ol.upperroman{list-style-type:upper-roman;}ol.lowergreek{list-style-type:lower-greek;}.colist>table,.hdlist>table{border:0;background:0 0;}.colist>table>tbody>tr,.hdlist>table>tbody>tr{background:0 0;}td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em;}td.hdlist1{font-weight:700;padding-bottom:1.25em;}td.hdlist2{word-wrap:anywhere;}.listingblock + .colist,.literalblock + .colist{margin-top:-.5em;}.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top;}.colist td:not([class]):first-child img{max-width:none;}.colist td:not([class]):last-child{padding:.25em 0;}.th,.thumb{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd;}.imageblock.left{margin:.25em .625em 1.25em 0;}.imageblock.right{margin:.25em 0 1.25em .625em;}.imageblock>.title{margin-bottom:0;}.imageblock.th,.imageblock.thumb{border-width:6px;}.imageblock.th>.title,.imageblock.thumb>.title{padding:0 .125em;}.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0;}.image.left{margin-right:.625em;}.image.right{margin-left:.625em;}a.image{text-decoration:none;display:inline-block;}a.image object{pointer-events:none;}sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super;}sup.footnote a,sup.footnoteref a{text-decoration:none;}sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline;}#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em;}#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0;}#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em;}#footnotes .footnote a:first-of-type{font-weight:700;text-decoration:none;margin-left:-1.05em;}#footnotes .footnote:last-of-type{margin-bottom:0;}#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0;}div.unbreakable{page-break-inside:avoid;}.big{font-size:larger;}.small{font-size:smaller;}.underline{text-decoration:underline;}.overline{text-decoration:overline;}.line-through{text-decoration:line-through;}.aqua{color:#00bfbf;}.aqua-background{background:#00fafa;}.black{color:#000;}.black-background{background:#000;}.blue{color:#0000bf;}.blue-background{background:#0000fa;}.fuchsia{color:#bf00bf;}.fuchsia-background{background:#fa00fa;}.gray{color:#606060;}.gray-background{background:#7d7d7d;}.green{color:#006000;}.green-background{background:#007d00;}.lime{color:#00bf00;}.lime-background{background:#00fa00;}.maroon{color:#600000;}.maroon-background{background:#7d0000;}.navy{color:#000060;}.navy-background{background:#00007d;}.olive{color:#606000;}.olive-background{background:#7d7d00;}.purple{color:#600060;}.purple-background{background:#7d007d;}.red{color:#bf0000;}.red-background{background:#fa0000;}.silver{color:#909090;}.silver-background{background:#bcbcbc;}.teal{color:#006060;}.teal-background{background:#007d7d;}.white{color:#bfbfbf;}.white-background{background:#fafafa;}.yellow{color:#bfbf00;}.yellow-background{background:#fafa00;}span.icon>.fa{cursor:default;}a span.icon>.fa{cursor:inherit;}.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default;}.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c;}.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111;}.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900;}.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400;}.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000;}.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:700;}.conum[data-value] *{color:#fff!important;}.conum[data-value] + b{display:none;}.conum[data-value]::after{content:attr(data-value);}pre .conum[data-value]{position:relative;top:-.125em;}b.conum *{color:inherit!important;}.conum:not([data-value]):empty{display:none;}div.footnote,dt,td.content,th.tableblock{text-rendering:optimizeLegibility;}h1,h2,p,span.alt,summary,td.content{letter-spacing:-.01em;}div.footnote strong,p strong,td.content strong{letter-spacing:-.005em;}blockquote,dt,p,span.alt,summary,td.content{font-size:1.0625rem;}p{margin-bottom:1.25rem;}.sidebarblock dt,.sidebarblock p,.sidebarblock td.content,p.tableblock{font-size:1em;}.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc;}.print-only{display:none!important;}@page{margin:1.25cm .75cm;}@media print{*{box-shadow:none!important;text-shadow:none!important}html{font-size:80%}a{color:inherit!important;text-decoration:underline!important}a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}abbr[title]{border-bottom:1px dotted}abbr[title]::after{content:" (" attr(title) ")"}blockquote,img,object,pre,svg,tr{page-break-inside:avoid}thead{display:table-header-group}svg{max-width:100%}blockquote,dt,p,td.content{font-size:1em;orphans:3;widows:3}#toctitle,.sidebarblock>.content>.title,h2,h3{page-break-after:avoid}#content,#footer,#footnotes,#header{max-width:none}#toc,.exampleblock>.content,.sidebarblock{background:0 0!important}#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}body.book #header{text-align:center}body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}body.book #header .details{border:0!important;display:block;padding:0!important}body.book #header .details span:first-child{margin-left:0!important}body.book #header .details br{display:block}body.book #header .details br + span::before{content:none!important}body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}body.book #preamble,body.book #toc,body.book .sect1>h2,body.book h1.sect0{page-break-before:always}.listingblock code[data-lang]::before{display:block}#footer{padding:0 .9375em}.hide-on-print{display:none!important}.print-only{display:block!important}.hide-for-print{display:none!important}.show-for-print{display:inherit!important}}@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}.sect1{padding:0!important}.sect1 + .sect1{border:0}#footer{background:0 0}#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}@media amzn-kf8{#content,#footer,#footnotes,#header{padding:0}}
    </style>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <style>
        /*! Stylesheet for CodeRay to loosely match GitHub themes | MIT License */pre.CodeRay{background:#f7f7f8}.CodeRay .line-numbers{border-right:1px solid;opacity:.35;padding:0 .5em 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}.CodeRay .line-numbers strong{color:#000}table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:0 0}table.CodeRay td{vertical-align:top;line-height:inherit}table.CodeRay td.line-numbers{text-align:right}table.CodeRay td.code{padding:0 0 0 .75em}.CodeRay .debug{color:#fff!important;background:navy!important}.CodeRay .annotation{color:#007}.CodeRay .attribute-name{color:navy}.CodeRay .attribute-value{color:#700}.CodeRay .binary{color:#509}.CodeRay .comment{color:#998;font-style:italic}.CodeRay .char{color:#04d}.CodeRay .char .content{color:#04d}.CodeRay .char .delimiter{color:#039}.CodeRay .class{color:#458;font-weight:700}.CodeRay .complex{color:#a08}.CodeRay .constant,.CodeRay .predefined-constant{color:teal}.CodeRay .color{color:#099}.CodeRay .class-variable{color:#369}.CodeRay .decorator{color:#b0b}.CodeRay .definition{color:#099}.CodeRay .delimiter{color:#000}.CodeRay .doc{color:#970}.CodeRay .doctype{color:#34b}.CodeRay .doc-string{color:#d42}.CodeRay .escape{color:#666}.CodeRay .entity{color:#800}.CodeRay .error{color:#808}.CodeRay .exception{color:inherit}.CodeRay .filename{color:#099}.CodeRay .function{color:#900;font-weight:700}.CodeRay .global-variable{color:teal}.CodeRay .hex{color:#058}.CodeRay .float,.CodeRay .integer{color:#099}.CodeRay .include{color:#555}.CodeRay .inline{color:#000}.CodeRay .inline .inline{background:#ccc}.CodeRay .inline .inline .inline{background:#bbb}.CodeRay .inline .inline-delimiter{color:#d14}.CodeRay .inline-delimiter{color:#d14}.CodeRay .important{color:#555;font-weight:700}.CodeRay .interpreted{color:#b2b}.CodeRay .instance-variable{color:teal}.CodeRay .label{color:#970}.CodeRay .local-variable{color:#963}.CodeRay .octal{color:#40e}.CodeRay .predefined{color:#369}.CodeRay .preprocessor{color:#579}.CodeRay .pseudo-class{color:#555}.CodeRay .directive{font-weight:700}.CodeRay .type{font-weight:700}.CodeRay .predefined-type{color:inherit}.CodeRay .keyword,.CodeRay .reserved{color:#000;font-weight:700}.CodeRay .key{color:#808}.CodeRay .key .delimiter{color:#606}.CodeRay .key .char{color:#80f}.CodeRay .value{color:#088}.CodeRay .regexp .delimiter{color:#808}.CodeRay .regexp .content{color:#808}.CodeRay .regexp .modifier{color:#808}.CodeRay .regexp .char{color:#d14}.CodeRay .regexp .function{color:#404;font-weight:700}.CodeRay .string{color:#d20}.CodeRay .string .string .string{background:#ffd0d0}.CodeRay .string .content{color:#d14}.CodeRay .string .char{color:#d14}.CodeRay .string .delimiter{color:#d14}.CodeRay .shell{color:#d14}.CodeRay .shell .delimiter{color:#d14}.CodeRay .symbol{color:#990073}.CodeRay .symbol .content{color:#a60}.CodeRay .symbol .delimiter{color:#630}.CodeRay .tag{color:teal}.CodeRay .tag-special{color:#d70}.CodeRay .variable{color:#036}.CodeRay .insert{background:#afa}.CodeRay .delete{background:#faa}.CodeRay .change{color:#aaf;background:#007}.CodeRay .head{color:#f8f;background:#505}.CodeRay .insert .insert{color:#080}.CodeRay .delete .delete{color:#800}.CodeRay .change .change{color:#66f}.CodeRay .head .head{color:#f4f}
    </style>
    <link media="all" rel="stylesheet" href="../../css/style_v2.min.css" />
    <link media="all" rel="stylesheet" href="../../css/docs_style.min.css" />
  </head>
  <body class="article toc2 toc-left">
    <header class="header">
      <div class="d_cntnr">
        <div class="d_rw">
          <div class="d_cl d_cl_a d_cl_1_3@s d_n_xs">
            <ul>
              <li>
                <a href="./docs/1.x/" class="_d_opener">Documentation</a>
                <!-- <ul class="d_dropdown">
                  <li><a href="#">Version 3.0 (alpha)</a></li>
                  <li><a href="#">Version 2.0 (stable)</a></li>
                  <li><a href="#">Version 1.4 (old)</a></li>
                  <li><a href="#">Version 1.0 (old)</a></li>
                </ul> -->
              </li>
              <li>
                <a href="https://github.com/dflib/dflib/discussions">Forum</a>
              </li>
            </ul>
          </div>
          <div class="d_cl d_cl_a d_cl_1_3@s d_logo_box">
            <a href="./" aria-label="Home page">
              <svg
                width="94"
                height="28"
                viewBox="0 0 94 28"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M0 2C0 0.895431 0.895431 0 2 0H27C28.1046 0 29 0.895431 29 2V8H0V2Z"
                  fill="#34C759"
                />
                <path
                  d="M1 11H28V26C28 26.5523 27.5523 27 27 27H2C1.44772 27 1 26.5523 1 26V11Z"
                  stroke="#8BA98F"
                  stroke-width="2"
                />
                <rect x="9" y="12" width="2" height="14" fill="#8BA98F" />
                <rect x="18" y="12" width="2" height="14" fill="#8BA98F" />
                <path
                  d="M51.5127 14.1527C51.5127 15.2622 51.3114 16.2875 50.9089 17.2284C50.5137 18.1624 49.9538 18.9734 49.2293 19.6616C48.5048 20.3428 47.6302 20.8765 46.6056 21.2627C45.5883 21.6419 44.4576 21.8315 43.2135 21.8315H37V6.48453H43.2135C44.4576 6.48453 45.5883 6.67764 46.6056 7.06386C47.6302 7.45008 48.5048 7.98376 49.2293 8.66491C49.9538 9.34606 50.5137 10.1571 50.9089 11.0981C51.3114 12.032 51.5127 13.0503 51.5127 14.1527ZM47.7144 14.1527C47.7144 13.3943 47.6119 12.7097 47.407 12.0987C47.2021 11.4878 46.9057 10.9717 46.5178 10.5504C46.1372 10.122 45.6688 9.79548 45.1126 9.57077C44.5564 9.33904 43.9234 9.22317 43.2135 9.22317H40.7325V19.0928H43.2135C43.9234 19.0928 44.5564 18.9805 45.1126 18.7558C45.6688 18.524 46.1372 18.1975 46.5178 17.7762C46.9057 17.3478 47.2021 16.8282 47.407 16.2172C47.6119 15.6063 47.7144 14.9181 47.7144 14.1527Z"
                  fill="white"
                />
                <path
                  d="M57.4351 9.22317V13.1099H62.902V15.8591H57.4351V21.8315H53.7026V6.48453H63.9998V9.22317H57.4351Z"
                  fill="white"
                />
                <path
                  d="M75.777 18.9875V21.8315H66.1384V6.48453H69.8489V18.9875H75.777Z"
                  fill="white"
                />
                <path
                  d="M80.7585 10.9085V21.8315H77.3554V10.9085H80.7585ZM81.1098 7.91705C81.1098 8.17687 81.0549 8.42265 80.9451 8.65438C80.8353 8.87909 80.6853 9.07922 80.495 9.25477C80.3048 9.4233 80.0815 9.56024 79.8254 9.66557C79.5766 9.76388 79.3094 9.81303 79.024 9.81303C78.7459 9.81303 78.4861 9.76388 78.2446 9.66557C78.0031 9.56024 77.7872 9.4233 77.5969 9.25477C77.4139 9.07922 77.2676 8.87909 77.1578 8.65438C77.0553 8.42265 77.0041 8.17687 77.0041 7.91705C77.0041 7.65021 77.0553 7.40092 77.1578 7.16919C77.2676 6.93746 77.4139 6.73382 77.5969 6.55826C77.7872 6.38271 78.0031 6.24578 78.2446 6.14746C78.4861 6.04915 78.7459 6 79.024 6C79.3094 6 79.5766 6.04915 79.8254 6.14746C80.0815 6.24578 80.3048 6.38271 80.495 6.55826C80.6853 6.73382 80.8353 6.93746 80.9451 7.16919C81.0549 7.40092 81.1098 7.65021 81.1098 7.91705Z"
                  fill="white"
                />
                <path
                  d="M86.5351 18.8611C86.7912 19.1279 87.0693 19.3175 87.3694 19.4299C87.6694 19.5422 87.9732 19.5984 88.2805 19.5984C88.6026 19.5984 88.899 19.5422 89.1698 19.4299C89.4405 19.3105 89.6711 19.1209 89.8614 18.8611C90.059 18.5943 90.2126 18.2467 90.3224 17.8183C90.4322 17.3829 90.4871 16.8492 90.4871 16.2172C90.4871 15.6695 90.4432 15.2061 90.3554 14.8269C90.2749 14.4406 90.1504 14.1282 89.9821 13.8894C89.8211 13.6436 89.6162 13.4681 89.3674 13.3627C89.1258 13.2504 88.8477 13.1942 88.533 13.1942C88.1159 13.1942 87.7536 13.282 87.4462 13.4575C87.1389 13.6331 86.8351 13.8894 86.5351 14.2265V18.8611ZM86.5351 12.0671C86.9742 11.6669 87.4536 11.3474 87.9732 11.1086C88.5001 10.8628 89.0856 10.74 89.7296 10.74C90.3737 10.74 90.9591 10.8664 91.4861 11.1192C92.013 11.372 92.4631 11.7336 92.8363 12.2041C93.2096 12.6675 93.495 13.2293 93.6926 13.8894C93.8975 14.5495 94 15.2868 94 16.1014C94 16.9862 93.8829 17.7902 93.6487 18.5135C93.4145 19.2368 93.0815 19.8582 92.6497 20.3779C92.2252 20.8905 91.7166 21.2908 91.1238 21.5787C90.531 21.8596 89.876 22 89.1588 22C88.8148 22 88.5074 21.9684 88.2366 21.9052C87.9659 21.842 87.717 21.7542 87.4901 21.6419C87.2633 21.5225 87.0547 21.3821 86.8644 21.2205C86.6814 21.059 86.5021 20.8835 86.3265 20.6939L86.2057 21.2416C86.1472 21.4663 86.052 21.6208 85.9203 21.7051C85.7886 21.7893 85.6129 21.8315 85.3934 21.8315H83.1319V6.0632H86.5351V12.0671Z"
                  fill="white"
                />
              </svg>
            </a>
          </div>
          <div class="d_cl d_cl_a d_cl_1_3@s">
            <button class="d_hbrg d_n_s" aria-label="Toggle navigation menu">
              <i></i>
            </button>
            <div class="d_v_s">
              <a href="https://github.com/dflib/dflib" class="d_btn d_gh">
                <svg
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clip-path="url(#clip0_6212_21903)">
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M11.9642 0.5C5.34833 0.5 0 5.77083 0 12.2916C0 17.5039 3.42686 21.9161 8.18082 23.4777C8.77518 23.5951 8.9929 23.224 8.9929 22.9118C8.9929 22.6385 8.9733 21.7014 8.9733 20.7251C5.64514 21.4281 4.95208 19.3195 4.95208 19.3195C4.41722 17.9529 3.62473 17.6017 3.62473 17.6017C2.53543 16.8794 3.70408 16.8794 3.70408 16.8794C4.91241 16.9575 5.54645 18.0897 5.54645 18.0897C6.61592 19.8856 8.33926 19.3782 9.03257 19.0658C9.13151 18.3044 9.44865 17.7773 9.78539 17.4845C7.13094 17.2112 4.33812 16.1961 4.33812 11.6667C4.33812 10.3783 4.81322 9.32409 5.56604 8.50424C5.44726 8.21147 5.03118 7.00085 5.68506 5.38055C5.68506 5.38055 6.69526 5.06814 8.97306 6.59093C9.94827 6.33281 10.954 6.20151 11.9642 6.20041C12.9744 6.20041 14.0042 6.33721 14.9552 6.59093C17.2332 5.06814 18.2434 5.38055 18.2434 5.38055C18.8973 7.00085 18.481 8.21147 18.3622 8.50424C19.1349 9.32409 19.5904 10.3783 19.5904 11.6667C19.5904 16.1961 16.7975 17.1915 14.1233 17.4845C14.5592 17.8554 14.9353 18.5581 14.9353 19.671C14.9353 21.2522 14.9158 22.5213 14.9158 22.9116C14.9158 23.224 15.1337 23.5951 15.7278 23.478C20.4818 21.9159 23.9087 17.5039 23.9087 12.2916C23.9282 5.77083 18.5603 0.5 11.9642 0.5Z"
                      fill="white"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_6212_21903">
                      <rect
                        width="24"
                        height="23"
                        fill="white"
                        transform="translate(0 0.5)"
                      />
                    </clipPath>
                  </defs>
                </svg>
                <span> GitHub </span>
              </a>
            </div>
          </div>
        </div>
        <div class="d_m_m d_nav">
          <div>
            <ul>
              <li>
                <a href="./docs/1.x/" class="_d_opener">Documentation</a>
                <!-- <ul class="d_dropdown">
                  <li><a href="#">Version 3.0 (alpha)</a></li>
                  <li><a href="#">Version 2.0 (stable)</a></li>
                  <li><a href="#">Version 1.4 (old)</a></li>
                  <li><a href="#">Version 1.0 (old)</a></li>
                </ul> -->
              </li>
              <li>
                <a href="https://github.com/dflib/dflib/discussions">Forum</a>
              </li>
            </ul>
          </div>
          <div>
            <a href="https://github.com/dflib/dflib" class="d_btn d_gh">
              <svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clip-path="url(#clip0_6212_21902)">
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M11.9642 0.5C5.34833 0.5 0 5.77083 0 12.2916C0 17.5039 3.42686 21.9161 8.18082 23.4777C8.77518 23.5951 8.9929 23.224 8.9929 22.9118C8.9929 22.6385 8.9733 21.7014 8.9733 20.7251C5.64514 21.4281 4.95208 19.3195 4.95208 19.3195C4.41722 17.9529 3.62473 17.6017 3.62473 17.6017C2.53543 16.8794 3.70408 16.8794 3.70408 16.8794C4.91241 16.9575 5.54645 18.0897 5.54645 18.0897C6.61592 19.8856 8.33926 19.3782 9.03257 19.0658C9.13151 18.3044 9.44865 17.7773 9.78539 17.4845C7.13094 17.2112 4.33812 16.1961 4.33812 11.6667C4.33812 10.3783 4.81322 9.32409 5.56604 8.50424C5.44726 8.21147 5.03118 7.00085 5.68506 5.38055C5.68506 5.38055 6.69526 5.06814 8.97306 6.59093C9.94827 6.33281 10.954 6.20151 11.9642 6.20041C12.9744 6.20041 14.0042 6.33721 14.9552 6.59093C17.2332 5.06814 18.2434 5.38055 18.2434 5.38055C18.8973 7.00085 18.481 8.21147 18.3622 8.50424C19.1349 9.32409 19.5904 10.3783 19.5904 11.6667C19.5904 16.1961 16.7975 17.1915 14.1233 17.4845C14.5592 17.8554 14.9353 18.5581 14.9353 19.671C14.9353 21.2522 14.9158 22.5213 14.9158 22.9116C14.9158 23.224 15.1337 23.5951 15.7278 23.478C20.4818 21.9159 23.9087 17.5039 23.9087 12.2916C23.9282 5.77083 18.5603 0.5 11.9642 0.5Z"
                    fill="white"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_6212_21902">
                    <rect
                      width="24"
                      height="23"
                      fill="white"
                      transform="translate(0 0.5)"
                    />
                  </clipPath>
                </defs>
              </svg>
              <span> GitHub </span>
            </a>
          </div>
        </div>
      </div>
    </header>
    <main><section>
      <div class="d_cntnr"><div class="d_rw">
        <div class="d_cl d_cl_1_3@s d_nav">
              <div id="toc" class="toc2">
                <div id="toctitle">Table of Contents</div>
                <ul class="sectlevel1">
                  <li>
                    <a href="#_get_started_with_dflib" class="active">Get Started with DFLib</a>
                  </li>
                  <li>
                    <a href="#_main_data_structures">Main Data Structures</a>
                    <ul class="sectlevel2">
                      <li><a href="#_series">Series</a></li>
                      <li><a href="#_dataframe">DataFrame</a></li>
                      <li><a href="#index">Index</a></li>
                    </ul>
                  </li>
                  <li><a href="#printers">Printers</a></li>
                  <li>
                    <a href="#expressions">Expressions</a>
                    <ul class="sectlevel2">
                      <li>
                        <a href="#_column_expressions">Column Expressions</a>
                      </li>
                      <li>
                        <a href="#_constant_expressions">Constant Expressions</a>
                      </li>
                      <li>
                        <a href="#_complex_expressions">Complex Expressions</a>
                      </li>
                      <li>
                        <a href="#_numeric_expressions">Numeric Expressions</a>
                      </li>
                      <li><a href="#_date_expressions">Date Expressions</a></li>
                      <li><a href="#_conditions">Conditions</a></li>
                      <li><a href="#sorter">Sorters</a></li>
                    </ul>
                  </li>
                  <li>
                    <a href="#column_ops">Column Operations</a>
                    <ul class="sectlevel2">
                      <li><a href="#_pick_columns">Pick Columns</a></li>
                      <li><a href="#_rename_columns">Rename Columns</a></li>
                      <li>
                        <a href="#column_ops_transform">Transform Columns</a>
                      </li>
                      <li><a href="#column_ops_split">Split Columns</a></li>
                      <li><a href="#_merge_columns">Merge Columns</a></li>
                      <li><a href="#_compact_columns">Compact Columns</a></li>
                      <li><a href="#_fill_nulls">Fill Nulls</a></li>
                      <li><a href="#_drop_columns">Drop Columns</a></li>
                    </ul>
                  </li>
                  <li>
                    <a href="#row_ops">Row Operations</a>
                    <ul class="sectlevel2">
                      <li><a href="#_pick_rows">Pick Rows</a></li>
                      <li><a href="#_transform_rows">Transform Rows</a></li>
                      <li><a href="#_merge_rows">Merge Rows</a></li>
                      <li><a href="#_split_rows">Split Rows</a></li>
                      <li><a href="#_unique_rows">Unique Rows</a></li>
                      <li><a href="#_drop_rows">Drop Rows</a></li>
                    </ul>
                  </li>
                  <li>
                    <a href="#row_column_ops">Row and Column Operations</a>
                    <ul class="sectlevel2">
                      <li>
                        <a href="#_pick_rows_and_columns"
                          >Pick Rows and Columns</a
                        >
                      </li>
                      <li>
                        <a href="#_transform_rows_and_columns"
                          >Transform Rows and Columns</a
                        >
                      </li>
                      <li>
                        <a href="#_merge_rows_and_columns"
                          >Merge Rows and Columns</a
                        >
                      </li>
                      <li>
                        <a href="#_drop_rows_and_columns"
                          >Drop Rows and Columns</a
                        >
                      </li>
                    </ul>
                  </li>
                  <li><a href="#head_tail">Head and Tail</a></li>
                  <li>
                    <a href="#sorting">Sorting</a>
                    <ul class="sectlevel2">
                      <li><a href="#_sort_series">Sort Series</a></li>
                      <li><a href="#_sort_dataframe">Sort DataFrame</a></li>
                    </ul>
                  </li>
                  <li>
                    <a href="#_concatenation">Concatenation</a>
                    <ul class="sectlevel2">
                      <li>
                        <a href="#_concatenate_series">Concatenate Series</a>
                      </li>
                      <li>
                        <a href="#_concatenate_dataframes"
                          >Concatenate DataFrames</a
                        >
                      </li>
                    </ul>
                  </li>
                  <li>
                    <a href="#joins">Joins</a>
                    <ul class="sectlevel2">
                      <li><a href="#_inner_joins">Inner Joins</a></li>
                      <li><a href="#_column_namespace">Column Namespace</a></li>
                      <li><a href="#_transform_columns">Transform Columns</a></li>
                      <li><a href="#_outer_joins">Outer Joins</a></li>
                      <li><a href="#_indicator_column">Indicator Column</a></li>
                      <li><a href="#_nested_loop_joins">Nested Loop Joins</a></li>
                    </ul>
                  </li>
                  <li><a href="#group_aggregate">Group and Aggregate</a></li>
                  <li><a href="#window">Window functions</a></li>
                  <li><a href="#pivot">Pivot</a></li>
                  <li><a href="#stack">Stack</a></li>
                  <li><a href="#udfs">User-Defined Functions</a></li>
                  <li>
                    <a href="#jdbc">Using Relational Databases</a>
                    <ul class="sectlevel2">
                      <li><a href="#_jdbcconnector">JdbcConnector</a></li>
                      <li>
                        <a href="#_tableloader_tablesaver"
                          >TableLoader / TableSaver</a
                        >
                      </li>
                      <li>
                        <a href="#_sqlloader_sqlsaver">SqlLoader / SqlSaver</a>
                      </li>
                    </ul>
                  </li>
                  <li>
                    <a href="#csv">CSV Files</a>
                    <ul class="sectlevel2">
                      <li><a href="#_reading_from_csv">Reading from CSV</a></li>
                      <li><a href="#_writing_to_csv">Writing to CSV</a></li>
                    </ul>
                  </li>
                  <li><a href="#excel">Excel Files</a></li>
                  <li>
                    <a href="#avro">Avro Files</a>
                    <ul class="sectlevel2">
                      <li><a href="#_avro_schema">Avro Schema</a></li>
                    </ul>
                  </li>
                  <li><a href="#jshell">Using JShell</a></li>
                  <li>
                    <a href="#jupyter">Using Jupyter Notebook</a>
                    <ul class="sectlevel2">
                      <li>
                        <a href="#_jupyter_installation_with_java_kernel"
                          >Jupyter Installation with Java Kernel</a
                        >
                      </li>
                      <li><a href="#_dflib_in_jupyter">DFLib in Jupyter</a></li>
                      <li>
                        <a href="#_change_display_parameters"
                          >Change Display Parameters</a
                        >
                      </li>
                      <li>
                        <a href="#_notebooks_and_version_control"
                          >Notebooks and Version Control</a
                        >
                      </li>
                    </ul>
                  </li>
                  <li><a href="#unit-testing">Unit Testing</a></li>
                </ul>
              </div>
        </div>
        <div class="d_cl d_cl_2_3@s d_content">
          <h1>DFLib Documentation</h1>
          <div class="details">
            <span id="author" class="author"
              >Andrus Adamchik and other contributors</span
            ><br />
          </div>
          <div id="content">
            <div id="preamble">
                <div class="sectionbody">
                    <div class="paragraph">
                        <p>
                            "DFLib" (short for "DataFrame Library") is a lightweight, pure Java implementation of <code>DataFrame</code>. <code>DataFrame</code> is a very common structure in data science and Big Data worlds. It provides
                            operations like search, filtering, joins, aggregations, statistical functions, etc., that are reminiscent of SQL (also of Excel), except you run them in your app over dynamic in-memory data sets.
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            There are <code>DataFrame</code> implementations in Python (<a href="https://pandas.pydata.org/">pandas</a>), R,
                            <a href="https://spark.apache.org/docs/latest/sql-programming-guide.html#datasets-and-dataframes">Apache Spark</a>, etc. DFLib project&#8217;s goal is to provide the same functionality for regular Java
                            applications. It is a simple library, that requires no special infrastructure. DFLib core is dependency-free.
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>The code in this documentation can be run in any Java IDE, as well as (and this is pretty cool!) in a <a href="#jupyter">Jupyter notebook</a>. You will need Java 11 or newer.</p>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="_get_started_with_dflib" class="sectionbody tracked-section">
                    <h2>Get Started with DFLib</h2>
                    <div class="paragraph">
                        <p>Include DFLib in a project. Assuming you are using Maven, start by declaring a "BOM" to have a common version for multiple DFLib modules:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependencyManagement&gt;</span>
  <span class="tag">&lt;dependencies&gt;</span>
    <span class="tag">&lt;dependency&gt;</span>
      <span class="tag">&lt;groupId&gt;</span>org.dflib<span class="tag">&lt;/groupId&gt;</span>
      <span class="tag">&lt;artifactId&gt;</span>dflib-bom<span class="tag">&lt;/artifactId&gt;</span>
      <span class="tag">&lt;version&gt;</span>1.0.0-M20<span class="tag">&lt;/version&gt;</span>
      <span class="tag">&lt;type&gt;</span>pom<span class="tag">&lt;/type&gt;</span>
      <span class="tag">&lt;scope&gt;</span>import<span class="tag">&lt;/scope&gt;</span>
    <span class="tag">&lt;/dependency&gt;</span>
  <span class="tag">&lt;/dependencies&gt;</span>
<span class="tag">&lt;/dependencyManagement&gt;</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>Next include DFLib core as a dependency:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.dflib<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>dflib<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>Create a DataFrame, do some manipulations with it, print the result:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre class="CodeRay highlight"><code data-lang="java">DataFrame df1 = DataFrame
        .foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">c</span><span class="delimiter">&quot;</span></span>)
        .ofStream(IntStream.range(<span class="integer">1</span>, <span class="integer">10000</span>));

DataFrame df2 = df1.rows(r -&gt; r.getInt(<span class="integer">0</span>) % <span class="integer">2</span> == <span class="integer">0</span>).select();

<span class="predefined-type">System</span>.out.println(Printers.tabular.toString(df2));</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>When you run this code, console output will look like this:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre>
   a    b    c
---- ---- ----
   4    5    6
  10   11   12
  16   17   18
...
9982 9983 9984
9988 9989 9990
9994 9995 9996
1666 rows x 3 columns
                            </pre>
                        </div>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tr>
                                <td class="icon">
                                    <i class="fa icon-note" title="Note"></i>
                                </td>
                                <td class="content">
                                    We&#8217;ll omit print statements in all the following examples, and will simply display their output. Details of printing are discussed in the in <a href="#printers">"Printers" chapter</a>.
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="_main_data_structures" class="sectionbody tracked-section">
                  <h2>Main Data Structures</h2>
                  <div class="paragraph">
                    <p>
                        The two essential DFLib classes are <code>Series</code> and <code>DataFrame</code>. <code>Series</code> is a 1-dimensional array-like object, and <code>DataFrame</code>
                        is a 2-dimensional table-like object. Columns in a DataFrame are stored as Series. Additionally, we will discuss
                        <code>Index</code> object that stores DataFrame column names.
                    </p>
                </div>
                <div class="paragraph">
                    <p>
                        Both DataFrame and Series (and Index) are fully <em>immutable</em>, so all operations on them return a new instance. Behind the scenes the library shares as much data as possible between instances, so copying
                        these objects does not cause significant performance degradation, and in turn makes DFLib fully thread-safe, with multiple concurrent operations possible on the same data structure. Also, immutability means that
                        you can have full snapshots of your data at each step of a transformation, simplifying debugging and auditing of data pipelines.
                    </p>
                </div>
                </div>
                <div class="sectionbody">
                    <div id="_series" class="sect2 tracked-section">
                        <h3>Series</h3>
                        <div class="paragraph">
                            <p>
                                <code>Series</code> is the simplest of the two data structures. You can think of it as a wrapper around an array of values. You can use <code>Series</code> to model sequences of data such as timestamps in a
                                time series. Series object is parameterized for the type of data that it holds. So there can be <code>Series&lt;String&gt;</code> or a <code>Series&lt;LocalDate&gt;</code>, etc. There is also an important
                                category of "primitive" Series (<code>IntSeries</code>, <code>LongSeries</code>, <code>DoubleSeries</code>, <code>BooleanSeries</code>) that are optimized for memory use and arithmetic operations. Of course,
                                each primitive Series can also pose as Series of a corresponding wrapper object type (e.g. <code>IntSeries</code> is also a <code>Series&lt;Integer&gt;</code>).
                            </p>
                        </div>
                        <div class="paragraph">
                            <p>
                                <code>Series</code> object is an important building block of DataFrame, but it defines a number of useful data manipulation and transformation operations on its own. Those will be covered in the following
                                chapters. Here we&#8217;ll discuss how to create Series.
                            </p>
                        </div>
                        <div class="sect3">
                            <h4 id="_creation_of_series_from_arrays">Creation of Series from Arrays</h4>
                            <div class="paragraph">
                                <p><code>Series</code> can be created using static <code>ofXyz(..)</code> methods on the <code>Series</code> interface:</p>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre
                                        class="CodeRay highlight"
                                    ><code data-lang="java">Series&lt;<span class="predefined-type">String</span>&gt; s = Series.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">bcd</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">ef</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">g</span><span class="delimiter">&quot;</span></span>);</code></pre>
                                </div>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre>
a
bcd
...
g
4 elements
                                    </pre>
                                </div>
                            </div>
                            <div class="paragraph">
                                <p>Primitive Series classes have their own factory methods. E.g.:</p>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre
                                        class="CodeRay highlight"
                                    ><code data-lang="java">IntSeries is = Series.ofInt(<span class="integer">0</span>, <span class="integer">1</span>, -<span class="integer">300</span>, <span class="predefined-type">Integer</span>.MAX_VALUE);</code></pre>
                                </div>
                            </div>
                        </div>
                        <div class="sect3">
                            <h4 id="_creation_of_series_by_element">Creation of Series By Element</h4>
                            <div class="paragraph">
                                <p>
                                    If we don&#8217;t have a data array or collection to start with, and instead somehow produce a sequence of values of unpredictable length, we can use <code>Series.byElement()</code> API. E.g. the
                                    following example reads data from an InputStream line by line as Strings:
                                </p>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// InputStream inputStream = ...</span>
SeriesAppender&lt;<span class="predefined-type">String</span>, <span class="predefined-type">String</span>&gt; appender = Series
        .byElement(Extractor.&lt;<span class="predefined-type">String</span>&gt;<span class="error">$</span>col()) <i class="conum" data-value="1"></i><b>(1)</b>
        .appender();

<span class="predefined-type">Scanner</span> scanner = <span class="keyword">new</span> <span class="predefined-type">Scanner</span>(inputStream);
<span class="keyword">while</span> (scanner.hasNext()) {
    appender.append(scanner.next()); <i class="conum" data-value="2"></i><b>(2)</b>
}

Series&lt;<span class="predefined-type">String</span>&gt; s = appender.toSeries();</code></pre>
                                </div>
                            </div>
                            <div class="colist arabic">
                                <table>
                                    <tr>
                                        <td><i class="conum" data-value="1"></i><b>1</b></td>
                                        <td>Create Series "appender" that will accumulate values. For primitive Series you would use <code>Extractor.$int(..)</code>, <code>Extractor.$long(..)</code> and so on</td>
                                    </tr>
                                    <tr>
                                        <td><i class="conum" data-value="2"></i><b>2</b></td>
                                        <td>Append values as they are read one-by-one</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div id="_dataframe" class="sect2 tracked-section">
                        <h3>DataFrame</h3>
                        <div class="paragraph">
                            <p>
                                <code>DataFrame</code> is an in-memory table made of an <code>Index</code> header and a number of named columns. Each column is a <code>Series</code>, and has an associated name in the <code>Index</code>.
                                <code>DataFrame</code> can contain columns of different kinds, so it is not parameterized for any single type.
                            </p>
                        </div>
                        <div class="paragraph">
                            <p>"Rows" is a purely virtual concept as the data is organized by column, yet there is a number of APIs that appear to operate on rows for user convenience.</p>
                        </div>
                        <div class="paragraph">
                            <p>There are a few ways to create a DataFrame. Here we&#8217;ll show how to convert various in-memory objects to DataFrames (arrays, Streams, Collections, Series).</p>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">
                                        More often than not, a DataFrame is not created from an in-memory object, but is rather loaded from (and saved to) an external source, like a <a href="#jdbc">database</a> or a
                                        <a href="#csv">CSV file</a>. Those are discussed in separate chapters.
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>First example, adding data row by row:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">DataFrame df = DataFrame
        .byArrayRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">age</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="1"></i><b>(1)</b>
        .appender() <i class="conum" data-value="2"></i><b>(2)</b>
        .append(<span class="string"><span class="delimiter">&quot;</span><span class="content">Joe</span><span class="delimiter">&quot;</span></span>, <span class="integer">18</span>)   <i class="conum" data-value="3"></i><b>(3)</b>
        .append(<span class="string"><span class="delimiter">&quot;</span><span class="content">Andrus</span><span class="delimiter">&quot;</span></span>, <span class="integer">49</span>)
        .append(<span class="string"><span class="delimiter">&quot;</span><span class="content">Joan</span><span class="delimiter">&quot;</span></span>, <span class="integer">32</span>)
        .toDataFrame();</code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>A special builder is created to append each row as a vararg array</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="2"></i><b>2</b></td>
                                    <td>The builder creates an "appender" object. While here we are using the builder with default settings, it has extra methods to configure capacity, data sampling, etc.</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="3"></i><b>3</b></td>
                                    <td>Passing individual rows to the appender one-by-one</td>
                                </tr>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>The resulting DataFrame looks like this:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
name   age
------ ---
Joe    18
Andrus 49
Joan   32
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>A more general example - creating a DataFrame from a list of objects by "extracting" column data from object properties:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">record Person(<span class="predefined-type">String</span> name, <span class="type">int</span> age) {
}

<span class="predefined-type">List</span>&lt;Person&gt; people = <span class="predefined-type">List</span>.of(
        <span class="keyword">new</span> Person(<span class="string"><span class="delimiter">&quot;</span><span class="content">Joe</span><span class="delimiter">&quot;</span></span>, <span class="integer">18</span>),
        <span class="keyword">new</span> Person(<span class="string"><span class="delimiter">&quot;</span><span class="content">Andrus</span><span class="delimiter">&quot;</span></span>, <span class="integer">49</span>),
        <span class="keyword">new</span> Person(<span class="string"><span class="delimiter">&quot;</span><span class="content">Joan</span><span class="delimiter">&quot;</span></span>, <span class="integer">32</span>));

DataFrame df = DataFrame
        .byRow( <i class="conum" data-value="1"></i><b>(1)</b>
                Extractor.<span class="error">$</span>col(Person::name),
                Extractor.<span class="error">$</span><span class="type">int</span>(Person::age))
        .columnNames(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">age</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="2"></i><b>(2)</b>
        .appender() <i class="conum" data-value="3"></i><b>(3)</b>
        .append(people)   <i class="conum" data-value="4"></i><b>(4)</b>
        .toDataFrame();</code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>The builder is started with an array of Extractors. Each extractor generates its own column, filling it with a corresponding object property.</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="2"></i><b>2</b></td>
                                    <td>Specifying the names of the DataFrame columns. If omitted, column names are assigned automatically</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="3"></i><b>3</b></td>
                                    <td>Creating a row-by-row appender</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="4"></i><b>4</b></td>
                                    <td>Appending the list.</td>
                                </tr>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>The resulting DataFrame looks like this:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
name   age
------ ---
Joe    18
Andrus 49
Joan   32
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>Another example - a single-dimensional array can be "folded" into a DataFrame row-by-row:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">DataFrame df = DataFrame
        .foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">age</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="1"></i><b>(1)</b>
        .of(<span class="string"><span class="delimiter">&quot;</span><span class="content">Joe</span><span class="delimiter">&quot;</span></span>, <span class="integer">18</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Andrus</span><span class="delimiter">&quot;</span></span>, <span class="integer">49</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Joan</span><span class="delimiter">&quot;</span></span>, <span class="integer">32</span>); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>Folding Builder is created</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="2"></i><b>2</b></td>
                                    <td>Passing a varargs array of values, that is folded to match the specified number of columns, row by row.</td>
                                </tr>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>Same, but folding column-by-column:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">DataFrame df = DataFrame
        .foldByColumn(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">age</span><span class="delimiter">&quot;</span></span>)
        .of(<span class="string"><span class="delimiter">&quot;</span><span class="content">Joe</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Andrus</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Joan</span><span class="delimiter">&quot;</span></span>, <span class="integer">18</span>, <span class="integer">49</span>, <span class="integer">32</span>);</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>
                                You can also create DataFrames from collections or Streams (folded either by row or by column). Here is an example of how to use a Stream of primitive ints, creating a DataFrame made of memory-efficient
                                <code>IntSeries</code> columns:
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">DataFrame df = DataFrame
        .foldByColumn(<span class="string"><span class="delimiter">&quot;</span><span class="content">col1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">col2</span><span class="delimiter">&quot;</span></span>)
        .ofStream(IntStream.range(<span class="integer">0</span>, <span class="integer">10000</span>));</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
col1 col2
---- ----
   0 5000
   1 5001
   2 5002
...
4997 9997
4998 9998
4999 9999
5000 rows x 2 columns
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>Finally, a DataFrame can be created from an array of Series, each Series representing a column:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">DataFrame df = DataFrame
        .byColumn(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">age</span><span class="delimiter">&quot;</span></span>)
        .of(
                Series.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">Joe</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Andrus</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Joan</span><span class="delimiter">&quot;</span></span>),
                Series.ofInt(<span class="integer">18</span>, <span class="integer">49</span>, <span class="integer">32</span>)
        );</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>This is the most efficient way, as an array of Series is how each DataFrame is structured internally.</p>
                        </div>
                    </div>
                    <div id="index" class="sect2 tracked-section">
                        <h3>Index</h3>
                        <div class="paragraph">
                            <p>
                                <code>Index</code> is somewhat similar to Series. It serves as a <code>DataFrame</code> "header" and internally allows to quickly resolve column String labels to their numeric positions. You&#8217;d work with
                                <code>Index</code> instances outside a DataFrame only occasionally, but it is still good to know its capabilities. E.g., here is how to get all the column labels:
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">String</span><span class="type">[]</span> labels = df.getColumnsIndex().getLabels();</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="printers" class="sectionbody tracked-section">
                    <h2>Printers</h2>
                    <div class="paragraph">
                        <p>
                            When doing data exploration and running data pipelines, it is important to be able to visualize data at every step. More advanced forms of visualization include charts and diagrams. But the simplest thing you can
                            do is printing data to the console. Both <code>DataFrame</code> and <code>Series</code> implement <code>toString()</code> method, that will print their contents as a single line, truncating large data sets in the
                            process, which is good for debugging applications running on a server.
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>A more human-friendly form of output is produced by a <em>tabular</em> printer. Here is how to use the default tabular printer:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre class="CodeRay highlight"><code data-lang="java">DataFrame df = DataFrame
        .foldByColumn(<span class="string"><span class="delimiter">&quot;</span><span class="content">col1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">col2</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">col3</span><span class="delimiter">&quot;</span></span>)
        .ofStream(IntStream.range(<span class="integer">0</span>, <span class="integer">10000</span>));

<span class="predefined-type">String</span> table = Printers.tabular.toString(df);
<span class="predefined-type">System</span>.out.println(table);</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            It prints the data as follows, displaying at most 6 rows and truncating the rest. Same goes for cell values. Values longer than 30 chars are also truncated (since they are pretty short in our example, value
                            truncation is not obvious here).
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre>
col1 col2 col3
---- ---- ----
   0 3334 6668
   1 3335 6669
   2 3336 6670
...
3331 6665 9999
3332 6666    0
3333 6667    0
3334 rows x 3 columns
                            </pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>You can change the truncation parameters by creating your own printer:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="CodeRay highlight"
                            ><code data-lang="java">Printer printer = <span class="keyword">new</span> TabularPrinter(<span class="integer">3</span>, <span class="integer">3</span>); <i class="conum" data-value="1"></i><b>(1)</b>
<span class="predefined-type">String</span> table = printer.toString(df);
<span class="predefined-type">System</span>.out.println(table);</code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tr>
                                <td><i class="conum" data-value="1"></i><b>1</b></td>
                                <td>Create a printer that displays at most 3 rows and up to 3 characters in each cell.</td>
                            </tr>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre>
c.. c.. c..
--- --- ---
  0 3.. 6..
  1 3.. 6..
...
3.. 6..   0
3334 rows x 3 columns
                            </pre>
                        </div>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tr>
                                <td class="icon">
                                    <i class="fa icon-note" title="Note"></i>
                                </td>
                                <td class="content">
                                    If you are using <a href="#jupyter">Jupyter Notebook</a>, all the printers are already setup for you. So if the last statement in a Jupyter cell is a <code>DataFrame</code> or a <code>Series</code>, it
                                    will be printed as a table in the notebook.
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="expressions" class="sectionbody tracked-section">
                  <h2>Expressions</h2>
                                      <div class="paragraph">
                        <p>
                            DFLib includes a built-in expression language (implemented as a Java "DSL"). It allows to perform column-centric operations on DataFrames and Series. <code>Exp</code> is the interface representing an expression
                            that takes a DataFrame or a Series and produces a Series of the specified type. It also contains static factory methods to create all kinds of expressions.
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>To use expressions, you&#8217;d often start by adding a static import of the <code>Exp</code> interface, so that all its factory methods are available directly in the code:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">static</span> <span class="include">org.dflib.Exp</span>.*;</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>Now let&#8217;s create two simple expressions that return a named and a positional column of the requested type:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="CodeRay highlight"
                            ><code data-lang="java">StrExp lastExp = <span class="error">$</span>str(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>);
DecimalExp salaryExp = <span class="error">$</span>decimal(<span class="integer">2</span>);</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>And now let&#8217;s evaluate the expressions:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="CodeRay highlight"
                            ><code data-lang="java">DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">salary</span><span class="delimiter">&quot;</span></span>).of(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Jerry</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Cosin</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> <span class="predefined-type">BigDecimal</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">120000</span><span class="delimiter">&quot;</span></span>),
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Juliana</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Walewski</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> <span class="predefined-type">BigDecimal</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">80000</span><span class="delimiter">&quot;</span></span>),
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Joan</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">O'Hara</span><span class="delimiter">&quot;</span></span>, <span class="keyword">new</span> <span class="predefined-type">BigDecimal</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">95000</span><span class="delimiter">&quot;</span></span>));

Series&lt;<span class="predefined-type">String</span>&gt; last = lastExp.eval(df);
Series&lt;<span class="predefined-type">BigDecimal</span>&gt; salary = salaryExp.eval(df);</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            This doesn&#8217;t look like much (other DFLib APIs would do the same), but this basic abstraction allows to implement a wide range of operations (filtering, sorting, aggregation, etc). The following chapters
                            will demonstrate various use cases for expressions.
                        </p>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tr>
                                <td class="icon">
                                    <i class="fa icon-note" title="Note"></i>
                                </td>
                                <td class="content">
                                    DFLib expression language Expressions work on Series instead of individual values, so they can achieve the best possible performance for any given operation. Expressions should be the preferred way to
                                    manipulate your data instead of more "direct" API.
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="paragraph">
                        <p>Now let&#8217;s look at various types of expressions&#8230;&#8203;</p>
                    </div>
                </div>
                <div class="sectionbody">
                    <div id="_column_expressions" class="sect2 tracked-section">
                        <h3>Column Expressions</h3>
                        <div class="paragraph">
                            <p>
                                <code>$str(..)</code> and <code>$decimal(..)</code> expressions in the example above are the column lookup expressions. They return a DataFrame column with a given name or at a given (zero-based) position
                                without applying any transformations to the data.
                            </p>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">
                                        So what is returned when you evaluate a column expression with a Series object? Series can be thought of as a single (unnamed) column. So a column expression simply returns the Series unchanged,
                                        ignoring implied column name or position.
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>
                                Factory methods for column expressions are easy to spot in the <code>Exp</code> interface - they all start with a dollar sign. Return type of the column expression is implied from the method name (
                                <code>$str(..)</code> produces a <code>Series&lt;String&gt;</code>, <code>$decimal(..)</code> - <code>Series&lt;BigDecimal&gt;</code>, <code>$int(..)</code> - <code>Series&lt;Integer&gt;</code>,
                                <code>$date(..)</code> - <code>Series&lt;LocalDate&gt;</code> and so on).
                            </p>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">
                                        DFLib doesn&#8217;t do any type conversion of the original column data (the exception being <code>$bool</code>). So you need to select the right type in your code to avoid ClassCastExceptions
                                        downstream.
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div id="_constant_expressions" class="sect2 tracked-section">
                        <h3>Constant Expressions</h3>
                        <div class="paragraph">
                            <p>If we want to generate a Series with the same repeating value, we can use the <code>$val(..)</code> expression:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">Series&lt;<span class="predefined-type">String</span>&gt; hi = <span class="error">$</span>val(<span class="string"><span class="delimiter">&quot;</span><span class="content">hi!</span><span class="delimiter">&quot;</span></span>).eval(df);</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
hi!
hi!
hi!
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>A useful case for <code>$val(..)</code> is to create a separator for String concatenation:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">Series&lt;<span class="predefined-type">String</span>&gt; fn = concat( <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="error">$</span>str(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>),
        <span class="error">$</span>val(<span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>), <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="error">$</span>str(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>)).eval(df);</code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>This is a static import of <code>Exp.concat(..)</code>, an expression that takes a variable number of arguments</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="2"></i><b>2</b></td>
                                    <td>Inserting space between first and last name</td>
                                </tr>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
Jerry Cosin
Juliana Walewski
Joan O'Hara
                                </pre>
                            </div>
                        </div>
                    </div>
                    <div id="_complex_expressions" class="sect2 tracked-section">
                        <h3>Complex Expressions</h3>
                        <div class="paragraph">
                            <p>
                                Expressions can be expanded by calling methods on the <code>Exp</code> object. Also, as we&#8217;ve already seen above, they can be composed of other expressions by invoking static methods of
                                <code>Exp</code>. E.g.:
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java"><i class="conum" data-value="1"></i><b>(1)</b>
<span class="predefined-type">Condition</span> c = and( <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="error">$</span>str(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>).startsWith(<span class="string"><span class="delimiter">&quot;</span><span class="content">A</span><span class="delimiter">&quot;</span></span>), <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="error">$</span>decimal(<span class="string"><span class="delimiter">&quot;</span><span class="content">salary</span><span class="delimiter">&quot;</span></span>).add(<span class="error">$</span>decimal(<span class="string"><span class="delimiter">&quot;</span><span class="content">benefits</span><span class="delimiter">&quot;</span></span>)).gt(<span class="integer">100000</span>.) <i class="conum" data-value="4"></i><b>(4)</b>
);</code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>"Condition" is an <code>Exp&lt;Boolean&gt;</code> described in more detail below</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="2"></i><b>2</b></td>
                                    <td><code>and(..)</code> is a statically-imported <code>Exp.and(..)</code></td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="3"></i><b>3</b></td>
                                    <td><code>startsWith(..)</code> produces a condition based on another string expression</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="4"></i><b>4</b></td>
                                    <td><code>add(..)</code> produces an addition operation for two numeric expressions, <code>gt(..)</code> produces a condition from the result of the addition</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div id="_numeric_expressions" class="sect2 tracked-section">
                        <h3>Numeric Expressions</h3>
                        <div class="paragraph">
                            <p>TODO</p>
                        </div>
                    </div>
                    <div id="_date_expressions" class="sect2 tracked-section">
                        <h3>Date Expressions</h3>
                        <div class="paragraph">
                            <p>TODO</p>
                        </div>
                    </div>
                    <div id="_conditions" class="sect2 tracked-section">
                        <h3>Conditions</h3>
                        <div class="paragraph">
                            <p>TODO</p>
                        </div>
                    </div>
                    <div id="sorter" class="sect2 tracked-section">
                        <h3>Sorters</h3>
                        <div class="paragraph">
                            <p>
                                <code>Sorter</code> is a special object, that allows to <a href="#sorting">sort DFLib data structures</a>. Internally a Sorter is using an expression to retrieve values that comprise sorting criteria and
                                index them in the specified order. Sorter can be created from any expression by calling its <code>asc()</code> or <code>desc()</code> methods:
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// sort by last name in the ascending order</span>
Sorter s = <span class="error">$</span>str(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>).asc();</code></pre>
                            </div>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">
                                        DFLib would allow you to create a Sorter based on any expression type. In runtime, the actual type must be either a Java primitive or an instance of <code>Comparable</code>, or a ClassCastException
                                        will be thrown during sorting.
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">   
                <div id="column_ops" class="sectionbody tracked-section">
                    <h2>Column Operations</h2>
                    <div class="paragraph">
                        <p>
                            To manipulate data in a single <code>DataFrame</code>, with a few exceptions you would start by picking a subset of columns or rows. Those are represented as <code>ColumnSet</code> and
                            <code>RowSet</code> objects. Let&#8217;s look at columns first&#8230;&#8203;
                        </p>
                    </div>
                </div>
                <div class="sectionbody">
                    <div id="_pick_columns" class="sect2 tracked-section">
                        <h3>Pick Columns</h3>
                        <div class="paragraph">
                            <p>Columns are picked either by condition, by name, by position or implicitly. Let&#8217;s take a look at each style&#8230;&#8203;</p>
                        </div>
                        <div class="sect3">
                            <h4 id="_by_condition">By Condition</h4>
                            <div class="paragraph">
                                <p>A condition is specified as a "predicate" lambda:</p>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre
                                        class="CodeRay highlight"
                                    ><code data-lang="java">DataFrame df1 = df.cols(c -&gt; !<span class="string"><span class="delimiter">&quot;</span><span class="content">middle</span><span class="delimiter">&quot;</span></span>.equals(c)).select();</code></pre>
                                </div>
                            </div>
                            <div class="paragraph">
                                <p>This form of <code>cols(..)</code> does not allow to reorder the columns. The resulting columns will always follow the relative order of the original <code>DataFrame</code>:</p>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre>
first   last
------- --------
Jerry   Cosin
Joan    O'Hara
                                    </pre>
                                </div>
                            </div>
                        </div>
                        <div class="sect3">
                            <h4 id="_by_names">By Names</h4>
                            <div class="paragraph">
                                <p>Here is a simple example of how to pick two columns from a DataFrame by name, and return a new DataFrame with just those two columns:</p>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre
                                        class="CodeRay highlight"
                                    ><code data-lang="java">DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">middle</span><span class="delimiter">&quot;</span></span>).of(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Jerry</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Cosin</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">M</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Joan</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">O'Hara</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>);

DataFrame df1 = df
        .cols(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="1"></i><b>(1)</b>
        .select(); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
                                </div>
                            </div>
                            <div class="colist arabic">
                                <table>
                                    <tr>
                                        <td><i class="conum" data-value="1"></i><b>1</b></td>
                                        <td>Define a <code>ColumnSet</code> of two columns matching provided names. The order of columns in the <code>ColumnSet</code> matches the order of column names passed to this method.</td>
                                    </tr>
                                    <tr>
                                        <td><i class="conum" data-value="2"></i><b>2</b></td>
                                        <td>Return a new DataFrame matching the <code>ColumnSet</code>. More on this in the next chapter.</td>
                                    </tr>
                                </table>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre>
last     first
-------- -------
Cosin    Jerry
O'Hara   Joan
                                    </pre>
                                </div>
                            </div>
                            <div class="admonitionblock note">
                                <table>
                                    <tr>
                                        <td class="icon">
                                            <i class="fa icon-note" title="Note"></i>
                                        </td>
                                        <td class="content">Passing names in a specific order to <code>cols(..)</code> allowed us to reorder the columns in the result.</td>
                                    </tr>
                                </table>
                            </div>
                            <div class="paragraph">
                                <p>Instead of listing included columns, you might specify which columns should be <em>excluded</em> from selection. This flavor doesn&#8217;t support reordering:</p>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre
                                        class="CodeRay highlight"
                                    ><code data-lang="java">DataFrame df1 = df.colsExcept(<span class="string"><span class="delimiter">&quot;</span><span class="content">middle</span><span class="delimiter">&quot;</span></span>).select();</code></pre>
                                </div>
                            </div>
                        </div>
                        <div class="sect3">
                            <h4 id="_by_positions">By Positions</h4>
                            <div class="paragraph">
                                <p>You can also pick columns by positions. The first position is "0".</p>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre class="CodeRay highlight"><code data-lang="java">DataFrame df1 = df.cols(<span class="integer">1</span>, <span class="integer">0</span>).select();</code></pre>
                                </div>
                            </div>
                        </div>
                        <div class="sect3">
                            <h4 id="column_ops_implicit">Implicitly</h4>
                            <div class="paragraph">
                                <p>If you specify no columns at all when building a <code>RowSet</code>, the returned <code>DataFrame</code> will be the same as the source one.</p>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre class="CodeRay highlight"><code data-lang="java">DataFrame df1 = df.cols().select();</code></pre>
                                </div>
                            </div>
                            <div class="admonitionblock note">
                                <table>
                                    <tr>
                                        <td class="icon">
                                            <i class="fa icon-note" title="Note"></i>
                                        </td>
                                        <td class="content">
                                            In this particular case, implicit column selection is not very useful. But in fact, this style is dynamic and may result in a smaller subset of columns selected based on the semantics of an
                                            operation applied to the
                                            <code>ColumnSet</code> (e.g. named expressions making specific columns). Also, it allows to apply a <em>transformation</em> to all columns at once. These cases are described later in the
                                            <a href="#column_ops_transform">columns transformation</a> chapter.
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div id="_rename_columns" class="sect2 tracked-section">
                        <h3>Rename Columns</h3>
                        <div class="paragraph">
                            <p>We saw how we can select a subset of columns. While doing that, we can also assign new names to all or some of the columns via <code>selectAs(..)</code>.</p>
                        </div>
                        <div class="paragraph">
                            <p>Rename all column set columns:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">DataFrame df1 = df
        .cols(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>)
        .selectAs(<span class="string"><span class="delimiter">&quot;</span><span class="content">last_name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">first_name</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>Passing new names for the <code>ColumnSet</code> columns. The order of the names must correspond to the order of columns in the <code>ColumnSet</code>, regardless of how it was defined.</td>
                                </tr>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
last_name first_name
--------- ----------
Cosin     Jerry
Walewski  Juliana
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>
                                Rename a subset of columns. Specifying names of all columns at once may not be practical for "wide" column sets. Instead, you can pass a map of old to new names to <code>selectAs(..)</code> to rename just
                                some columns. Names not present in the map will remain unchanged:
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">DataFrame df1 = df
        .cols(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>)
        .selectAs(<span class="predefined-type">Map</span>.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">LAST_NAME</span><span class="delimiter">&quot;</span></span>));</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
LAST_NAME first
--------- -------
Cosin     Jerry
O'Hara    Joan
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>Rename with a function, applied to all column names in turn. This is useful e.g. to convert all names to lower or upper case:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">DataFrame df1 = df
        .cols(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>)
        .selectAs(<span class="predefined-type">String</span>::toUpperCase);</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
LAST   FIRST
------ -----
Cosin  Jerry
O'Hara Joan
                                </pre>
                            </div>
                        </div>
                    </div>
                    <div id="column_ops_transform" class="sect2 tracked-section">
                        <h3>Transform Columns</h3>
                        <div class="paragraph">
                            <p>In the above examples we performed <code>DataFrame</code> vertical slicing, columns reordering and renaming. In this chapter we&#8217;ll show how to transform column data.</p>
                        </div>
                        <div class="paragraph">
                            <p>Generating columns with expressions:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">Exp fmExp = concat(
        <span class="error">$</span>str(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>),
        ifNull(<span class="error">$</span>str(<span class="string"><span class="delimiter">&quot;</span><span class="content">middle</span><span class="delimiter">&quot;</span></span>).mapVal(s -&gt; <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span> + s), <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>));

DataFrame df1 = df
        .cols(<span class="string"><span class="delimiter">&quot;</span><span class="content">first_middle</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="1"></i><b>(1)</b>
        .select(fmExp, <span class="error">$</span>str(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>)); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>When defining the <code>ColumnSet</code>, we are allowed to specify columns that are not present in the original DataFrame, as we are naming the result columns, not the source columns.</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="2"></i><b>2</b></td>
                                    <td>
                                        For each column in the <code>ColumnSet</code>, there should be an expression that generates the column. The first expression here transforms the data, the second simply picks a column from the source
                                        without modification.
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
first_middle last
------------ ------
Jerry M      Cosin
Joan         O'Hara
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>Generating columns row-by-row with <code>RowMapper</code>:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">RowMapper</span> mapper = (from, to) -&gt; {
    <span class="predefined-type">String</span> middle = from.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">middle</span><span class="delimiter">&quot;</span></span>) != <span class="predefined-constant">null</span>
            ? <span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span> + from.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">middle</span><span class="delimiter">&quot;</span></span>)
            : <span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>;
    to.set(<span class="integer">0</span>, from.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>) + middle).set(<span class="integer">1</span>, from.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>));
};

DataFrame df1 = df
        .cols(<span class="string"><span class="delimiter">&quot;</span><span class="content">first_middle</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>)
        .select(mapper);</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>
                                There&#8217;s also a way to generating columns row-by-row with per-column array of <code>RowToValueMapper</code>. It is not very different from what we&#8217;ve seen so far, so we are leaving this as an
                                exercise for the reader.
                            </p>
                        </div>
                    </div>
                    <div id="column_ops_split" class="sect2 tracked-section">
                        <h3>Split Columns</h3>
                        <div class="paragraph">
                            <p>
                                Values can be split using an expression into iterable or array elements, and new columns can be generated from those elements, thus "expanding" each row. Here is an example of handling Lists of values (
                                <code>List</code> is, of course, an <code>Iterable</code>) :
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">phones</span><span class="delimiter">&quot;</span></span>).of(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Cosin</span><span class="delimiter">&quot;</span></span>, <span class="predefined-type">List</span>.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">111-555-5555</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">111-666-6666</span><span class="delimiter">&quot;</span></span>,<span class="string"><span class="delimiter">&quot;</span><span class="content">111-777-7777</span><span class="delimiter">&quot;</span></span>),
        <span class="string"><span class="delimiter">&quot;</span><span class="content">O'Hara</span><span class="delimiter">&quot;</span></span>, <span class="predefined-type">List</span>.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">222-555-5555</span><span class="delimiter">&quot;</span></span>));

DataFrame df1 = df
        .cols(<span class="string"><span class="delimiter">&quot;</span><span class="content">primary_phone</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">secondary_phone</span><span class="delimiter">&quot;</span></span>)
        .selectExpand(<span class="error">$</span>col(<span class="string"><span class="delimiter">&quot;</span><span class="content">phones</span><span class="delimiter">&quot;</span></span>));</code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td><code>selectExpand(..)</code> takes an expression that returns a column with lists. If each List has more than 2 numbers, the rest are ignored, if less - nulls are used for the missing elements</td>
                                </tr>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
primary_phone secondary_phone
------------- ---------------
111-555-5555  111-666-6666
222-555-5555  null
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>
                                If you don&#8217;t know the exact number of phones, but would like to capture them all in separate columns, do not specify any explicit names (as mentioned in the
                                <a href="#column_ops_implicit">implicit column selection</a> chapter). As many columns as needed to fit the longest array of phone numbers will be generated on the fly, and the names will be assigned
                                dynamically:
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">DataFrame df1 = df
        .cols() <i class="conum" data-value="1"></i><b>(1)</b>
        .selectExpand(<span class="error">$</span>col(<span class="string"><span class="delimiter">&quot;</span><span class="content">phones</span><span class="delimiter">&quot;</span></span>));</code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>Not specifying any columns will result in split columns generated dynamically.</td>
                                </tr>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
0            1            2
------------ ------------ ------------
111-555-5555 111-666-6666 111-777-7777
222-555-5555 null         null
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>
                                If the phone numbers were provided as a comma-separated <code>String</code> instead of a <code>List</code>, you can split the String into an array of numbers using the <code>split(..)</code> expression, and
                                use <code>selectExpandArray(..)</code> to generate the columns:
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">phones</span><span class="delimiter">&quot;</span></span>).of(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Cosin</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">111-555-5555,111-666-6666,111-777-7777</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">O'Hara</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">222-555-5555</span><span class="delimiter">&quot;</span></span>);

DataFrame df1 = df
        .cols(<span class="string"><span class="delimiter">&quot;</span><span class="content">primary_phone</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">secondary_phone</span><span class="delimiter">&quot;</span></span>)
        .selectExpandArray(<span class="error">$</span>str(<span class="string"><span class="delimiter">&quot;</span><span class="content">phones</span><span class="delimiter">&quot;</span></span>).split(<span class="string"><span class="delimiter">'</span><span class="content">,</span><span class="delimiter">'</span></span>));</code></pre>
                            </div>
                        </div>
                    </div>
                    <div id="_merge_columns" class="sect2 tracked-section">
                        <h3>Merge Columns</h3>
                        <div class="paragraph">
                            <p>
                                The <code>ColumnSet</code> operations demonstrated so far resulted in discarding the source <code>DataFrame</code>, and returning only the columns defined within the set. But often we would like to recombine
                                transformed <code>ColumnSet</code> with the original <code>DataFrame</code>. Any in-place data cleanup, data set enrichment, etc. fall in this category.
                            </p>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">Of course, we call them "in-place" only in a logical sense, as <code>DataFrame</code> is immutable, and all modifications result in creation of a new instance.</td>
                                </tr>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>
                                For this <code>ColumnSet</code> provides a number of "merging" methods. All the <code>ColumnsSet</code> methods that do not start with <code>select&#8230;&#8203;</code> are performing a merge with the source
                                DataFrame. In fact, all the renaming and data transformation operations that we just discussed can also be executed as "merges".
                            </p>
                        </div>
                        <div class="paragraph">
                            <p>Here is an example of cleaning up a data set and adding a new column:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">middle</span><span class="delimiter">&quot;</span></span>).of(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">jerry</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">cosin</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">M</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Joan</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">O'Hara</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>);

Function&lt;<span class="predefined-type">String</span>, Exp&lt;<span class="predefined-type">String</span>&gt;&gt; cleanup = col -&gt; <span class="error">$</span>str(col).mapVal(
        s -&gt; s != <span class="predefined-constant">null</span> &amp;&amp; !s.isEmpty()
                ? <span class="predefined-type">Character</span>.toUpperCase(s.charAt(<span class="integer">0</span>)) + s.substring(<span class="integer">1</span>)
                : <span class="predefined-constant">null</span>); <i class="conum" data-value="1"></i><b>(1)</b>

DataFrame df1 = df
        .cols(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">full</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="2"></i><b>(2)</b>
        .map( <i class="conum" data-value="3"></i><b>(3)</b>
                cleanup.apply(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>),
                cleanup.apply(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>),
                concat(<span class="error">$</span>str(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>), <span class="error">$</span>val(<span class="string"><span class="delimiter">&quot;</span><span class="content"> </span><span class="delimiter">&quot;</span></span>), <span class="error">$</span>str(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>))
        );</code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>An expression that capitalizes the first letter of the name</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="2"></i><b>2</b></td>
                                    <td>The columns we are going to generate or transform</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="3"></i><b>3</b></td>
                                    <td>Instead of <code>select(..)</code>, use <code>map(..)</code> to merge to the original DataFrame</td>
                                </tr>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>
                                Now let&#8217;s check the result. The first two columns in the <code>ColumnSet</code> ("last", "first") were already present in the DataFrame, so they got replaced with the cleaned up versions. The last
                                column ("full") was new, so it was appended to the right side of the DataFrame:
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
first last   middle full
----- ------ ------ -----------
Jerry Cosin  M      jerry cosin
Joan  O'Hara null   Joan O'Hara
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>General merge rules:</p>
                        </div>
                        <div class="ulist">
                            <ul>
                                <li>
                                    <p>
                                        Merging is done <strong>by name</strong>. DataFrame&#8217;s columns with matching names are replaced with new versions, columns that are not a part of the <code>ColumnSet</code> are left unchanged,
                                        and columns in the <code>ColumnSet</code>, but not in the DataFrame, are appended on the right.
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        The order of the existing columns in the <code>ColumnSet</code> has no effect on the order of replaced columns (i.e. they are placed in their original positions). The relative order of appended
                                        columns is respected.
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        All transformation operations (such as expressions in our example) are applied to the original DataFrame columns (and can reference those outside the <code>ColumnSet</code>), but do not see the
                                        transformed columns. This is why there is a lowercase name in the resulting "full" column.
                                    </p>
                                </li>
                            </ul>
                        </div>
                        <div class="paragraph">
                            <p>
                                What if we want to ensure that all of the <code>ColumnSet</code> columns are appended, and no replacement of the original columns occurs? For this you can manually specify <code>ColumnSet</code> labels that
                                are not found in the source DataFrame, or you can use <code>DataFrame.colsAppend(..)</code>, and DFLib itself will ensure that the names are unique, appending <code>_</code> to each label until it
                                doesn&#8217;t overlap with anything already in the DataFrame:
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">DataFrame df1 = df
        .colsAppend(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="1"></i><b>(1)</b>
        .map(
                cleanup.apply(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>),
                cleanup.apply(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>)
        );</code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>Using <code>colsAppend(..)</code> instead of <code>cols()</code> ensures that both pre- and post-cleanup columns are preserved.</td>
                                </tr>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
first last   middle last_  first_
----- ------ ------ ------ ------
jerry cosin  M      Cosin  Jerry
Joan  O'Hara null   O'Hara Joan
                                </pre>
                            </div>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">
                                        Since we&#8217;ve already discussed various flavors of column renaming and transformation in the context of <code>select(..)</code>, we leave it as an exercise for the user to explore their "merging"
                                        counterparts - <code>as(..)</code>, <code>map(..)</code>, <code>expand(..)</code>, etc.
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div id="_compact_columns" class="sect2 tracked-section">
                        <h3>Compact Columns</h3>
                        <div class="paragraph">
                            <p>
                                This transformation converts columns to primitives. The values in the columns to be converted can be Numbers, Booleans or Strings (or objects with <code>toString()</code> that can be parsed to a primitive
                                type):
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">year</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">sales</span><span class="delimiter">&quot;</span></span>).of(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">2022</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">2005365.01</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">2023</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">4355098.75</span><span class="delimiter">&quot;</span></span>);

DataFrame df1 = df
        .cols(<span class="string"><span class="delimiter">&quot;</span><span class="content">year</span><span class="delimiter">&quot;</span></span>).compactInt(<span class="integer">0</span>) <i class="conum" data-value="1"></i><b>(1)</b>
        .cols(<span class="string"><span class="delimiter">&quot;</span><span class="content">sales</span><span class="delimiter">&quot;</span></span>).compactDouble(<span class="integer">0</span>.);</code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>The argument to <code>compact</code> is the primitive value to use if the value being converted is null</td>
                                </tr>
                            </table>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">
                                        <code>compactInt(..)</code>, <code>compactDouble(..)</code> and other similar methods are not just syntactic sugar. They convert DataFrame columns to primitive Series, that take
                                        <em>significantly</em> less memory (hence, the name "compact") and compute most operations faster than Object-based Series. So you should consider using them where possible.
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div id="_fill_nulls" class="sect2 tracked-section">
                        <h3>Fill Nulls</h3>
                        <div class="paragraph">
                            <p>
                                As a part of a dataset cleanup effort, you might want to replace <code>null</code> values with something meaningful. For this you may have to guess or maybe extrapolate the existing values based on some
                                internal knowledge of the dataset. To help with this task, <code>ColumnSet</code> provides a few methods discussed here.
                            </p>
                        </div>
                        <div class="paragraph">
                            <p>Filling nulls with a constant value:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">c1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">c2</span><span class="delimiter">&quot;</span></span>).of(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">a1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">a2</span><span class="delimiter">&quot;</span></span>,
        <span class="predefined-constant">null</span>, <span class="predefined-constant">null</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">b1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">b2</span><span class="delimiter">&quot;</span></span>);

DataFrame clean = df.cols(<span class="string"><span class="delimiter">&quot;</span><span class="content">c1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">c2</span><span class="delimiter">&quot;</span></span>).fillNulls(<span class="string"><span class="delimiter">&quot;</span><span class="content">X</span><span class="delimiter">&quot;</span></span>);</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
c1 c2
-- --
a1 a2
X  X
b1 b2
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>Filling nulls with values adjacent to the cells with nulls:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">DataFrame clean = df
        .cols(<span class="string"><span class="delimiter">&quot;</span><span class="content">c1</span><span class="delimiter">&quot;</span></span>).fillNullsBackwards() <i class="conum" data-value="1"></i><b>(1)</b>
        .cols(<span class="string"><span class="delimiter">&quot;</span><span class="content">c2</span><span class="delimiter">&quot;</span></span>).fillNullsForward(); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td><code>fillNullsForward(..)</code> takes a non-null value preceding the null cell and uses it to replace nulls.</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="2"></i><b>2</b></td>
                                    <td><code>fillNullsBackwards(..)</code> uses the first non-null value following the null cell.</td>
                                </tr>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
c1 c2
-- --
a1 a2
b1 a2
b1 b2
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>There&#8217;s also a way to fill nulls from another <code>Series</code> object used as a "mask" :</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">Series&lt;<span class="predefined-type">String</span>&gt; mask = Series.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">A</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">B</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">C</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">D</span><span class="delimiter">&quot;</span></span>);
DataFrame clean = df.cols(<span class="string"><span class="delimiter">&quot;</span><span class="content">c1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">c2</span><span class="delimiter">&quot;</span></span>).fillNullsFromSeries(mask);</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
c1 c2
-- --
a1 a2
B  B
b1 b2
                                </pre>
                            </div>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">The "mask" <code>Series</code> can be longer or shorter than the <code>DataFrame</code> height. Values are aligned by position starting at zero.</td>
                                </tr>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>Finally, we can use an <code>Exp</code> to calculate values for nulls:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>        DataFrame df = DataFrame.foldByRow("c1", "c2").of(
                "a1", "a2",
                null, null,
                "b1", "b2");

        DataFrame clean = df.cols("c1", "c2")
                .fillNullsWithExp(rowNum()); <i class="conum" data-value="1"></i><b>(1)</b></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td><code>Exp.rowNum()</code> generates a <code>Series</code> with row numbers, so the nulls are replaced by the number denoting their position in the <code>DataFrame</code>:</td>
                                </tr>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
c1 c2
-- --
a1 a2
2  2
b1 b2
                                </pre>
                            </div>
                        </div>
                    </div>
                    <div id="_drop_columns" class="sect2 tracked-section">
                        <h3>Drop Columns</h3>
                        <div class="paragraph">
                            <p>
                                To get rid of certain columns in a DataFrame, you can either select the columns you would want to drop and call <code>drop()</code> or select the columns you’d want to remain and call <code>select()</code>:
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df1 = df.cols(<span class="string"><span class="delimiter">&quot;</span><span class="content">middle</span><span class="delimiter">&quot;</span></span>).drop();</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df1 = df.colsExcept(<span class="string"><span class="delimiter">&quot;</span><span class="content">middle</span><span class="delimiter">&quot;</span></span>).select();</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>In both cases, the result is the same:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
first last
----- ------
Jerry Cosin
Joan  O'Hara
                                </pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="row_ops" class="sectionbody tracked-section">
                      <h2>Row Operations</h2>
                      <div class="paragraph">
                        <p>
                            Just like with columns, row operations first define a <code>RowSet</code>, execute some transformation, and then are either merged back with the original <code>DataFrame</code>, or "selected" as a standalone one.
                            <code>RowSet</code> and <code>ColumnSet</code> have other similarities (e.g. the ability to evaluate expressions by column, and create <code>RowColumnSet</code>), but <code>RowSet</code> is also rather different
                            in how its rows are picked and what other operations are available.
                        </p>
                      </div>
                </div>
                <div class="sectionbody">
                    <div id="_pick_rows" class="sect2 tracked-section">
                        <h3>Pick Rows</h3>
                        <div class="paragraph">
                            <p>Rows are picked either by condition, by positions or as a range. Let&#8217;s take a look at each style&#8230;&#8203;</p>
                        </div>
                        <div class="sect3">
                            <h4 id="_by_condition_2">By Condition</h4>
                            <div class="paragraph">
                                <p>A <code>Condition</code> (a boolean <code>Exp</code>) can be used to pick matching rows:</p>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre
                                        class="CodeRay highlight"
                                    ><code data-lang="java">DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">middle</span><span class="delimiter">&quot;</span></span>).of(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Jerry</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Cosin</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">M</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Juliana</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Walewski</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Joan</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">O'Hara</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">P</span><span class="delimiter">&quot;</span></span>);

DataFrame df1 = df
        .rows(<span class="error">$</span>str(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>).startsWith(<span class="string"><span class="delimiter">&quot;</span><span class="content">W</span><span class="delimiter">&quot;</span></span>).eval(df)) <i class="conum" data-value="1"></i><b>(1)</b>
        .select(); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
                                </div>
                            </div>
                            <div class="colist arabic">
                                <table>
                                    <tr>
                                        <td><i class="conum" data-value="1"></i><b>1</b></td>
                                        <td>Applies a <code>Condition</code> to the DataFrame, to include matching rows in the <code>RowSet</code>.</td>
                                    </tr>
                                    <tr>
                                        <td><i class="conum" data-value="2"></i><b>2</b></td>
                                        <td>Returns a new DataFrame matching the <code>RowSet</code></td>
                                    </tr>
                                </table>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre>
first   last     middle
------- -------- ------
Juliana Walewski null
                                    </pre>
                                </div>
                            </div>
                            <div class="paragraph">
                                <p>Another form of condition is a "predicate" lambda (a <code>RowPredicate</code> object), evaluated row-by-row:</p>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre class="CodeRay highlight"><code data-lang="java">DataFrame df1 = df
        .rows(r -&gt; r.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, <span class="predefined-type">String</span>.class).startsWith(<span class="string"><span class="delimiter">&quot;</span><span class="content">W</span><span class="delimiter">&quot;</span></span>))
        .select();</code></pre>
                                </div>
                            </div>
                            <div class="paragraph">
                                <p>
                                    A condition can be precalculated as a <code>BooleanSeries</code>. A common scenario is calling <code>locate()</code> on another <code>Series</code> or a <code>DataFrame</code> / <code>RowSet</code> to
                                    build a <code>BooleanSeries</code> "selector", and then using it to pick rows from another DataFrame:
                                </p>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre
                                        class="CodeRay highlight"
                                    ><code data-lang="java">IntSeries salaries = Series.ofInt(<span class="integer">100000</span>, <span class="integer">50000</span>, <span class="integer">45600</span>); <i class="conum" data-value="1"></i><b>(1)</b>
BooleanSeries selector = salaries.locateInt(s -&gt; s &gt; <span class="integer">49999</span>); <i class="conum" data-value="2"></i><b>(2)</b>

DataFrame df1 = df.rows(selector).select();</code></pre>
                                </div>
                            </div>
                            <div class="colist arabic">
                                <table>
                                    <tr>
                                        <td><i class="conum" data-value="1"></i><b>1</b></td>
                                        <td>A Series of salaries with elements positions matching row positions in the persons DataFrame.</td>
                                    </tr>
                                    <tr>
                                        <td><i class="conum" data-value="2"></i><b>2</b></td>
                                        <td>Precalculates a reusable "selector"</td>
                                    </tr>
                                </table>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre>
first   last     middle
------- -------- ------
Jerry   Cosin    M
Juliana Walewski null
                                    </pre>
                                </div>
                            </div>
                        </div>
                        <div class="sect3">
                            <h4 id="_by_positions_2">By Positions</h4>
                            <div class="paragraph">
                                <p>Here is an example of <code>RowSet</code> defined using an array of row positions.</p>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre class="CodeRay highlight"><code data-lang="java">DataFrame df1 = df
        .rows(<span class="integer">2</span>, <span class="integer">0</span>, <span class="integer">2</span>) <i class="conum" data-value="1"></i><b>(1)</b>
        .select();</code></pre>
                                </div>
                            </div>
                            <div class="colist arabic">
                                <table>
                                    <tr>
                                        <td><i class="conum" data-value="1"></i><b>1</b></td>
                                        <td>An <code>int[]</code> that defines a <code>RowSet</code></td>
                                    </tr>
                                </table>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre>
first last   middle
----- ------ ------
Joan  O'Hara P
Jerry Cosin  M
Joan  O'Hara P
                                    </pre>
                                </div>
                            </div>
                            <div class="admonitionblock note">
                                <table>
                                    <tr>
                                        <td class="icon">
                                            <i class="fa icon-note" title="Note"></i>
                                        </td>
                                        <td class="content">
                                            An array of positions is also a kind of "condition". The main difference is that it allows to reorder rows by specifying positions in a desired sequence and/or duplicate rows by referencing the
                                            same position more than once. Both features are demonstrated in the example above.
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            <div class="paragraph">
                                <p>
                                    Instead of an array, positions can be defined as an <code>IntSeries</code> "index". Just like with conditions, it is often calculated from another <code>Series</code> or <code>DataFrame</code> /
                                    <code>RowSet</code>:
                                </p>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre class="CodeRay highlight"><code data-lang="java">IntSeries selector = salaries.indexInt(s -&gt; s &gt; <span class="integer">49999</span>); <i class="conum" data-value="1"></i><b>(1)</b>

DataFrame df1 = df.rows(selector).select();</code></pre>
                                </div>
                            </div>
                            <div class="colist arabic">
                                <table>
                                    <tr>
                                        <td><i class="conum" data-value="1"></i><b>1</b></td>
                                        <td>Precalculates a reusable "selector" with positions. Uses a Series of salaries that is not a part of "our" DataFrame</td>
                                    </tr>
                                </table>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre>
first   last     middle
------- -------- ------
Jerry   Cosin    M
Juliana Walewski null
                                    </pre>
                                </div>
                            </div>
                        </div>
                        <div class="sect3">
                            <h4 id="_as_a_range">As a Range</h4>
                            <div class="paragraph">
                                <p>Finally, rows can be selected as a continuous range of row positions:</p>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre class="CodeRay highlight"><code data-lang="java">DataFrame df1 = df
        .rowsRange(<span class="integer">0</span>, <span class="integer">2</span>) <i class="conum" data-value="1"></i><b>(1)</b>
        .select();</code></pre>
                                </div>
                            </div>
                            <div class="colist arabic">
                                <table>
                                    <tr>
                                        <td><i class="conum" data-value="1"></i><b>1</b></td>
                                        <td>The range is defined by two ints: its starting index and the index, following its last index.</td>
                                    </tr>
                                </table>
                            </div>
                            <div class="listingblock">
                                <div class="content">
                                    <pre>
first   last     middle
------- -------- ------
Jerry   Cosin    M
Juliana Walewski null
                                    </pre>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="_transform_rows" class="sect2 tracked-section">
                        <h3>Transform Rows</h3>
                        <div class="paragraph">
                            <p>
                                Just like <code>ColumnSet</code>, <code>RowSet</code> defines a number of column- and row-based transformations. And just like with <code>ColumnSet</code>, each transformation can be invoked as a "select" or
                                a "merge", returning either the <code>RowSet</code> rows or all rows from the original <code>DataFrame</code>. Here we will demonstrate selecting operations, and will talk about merging next.
                            </p>
                        </div>
                        <div class="paragraph">
                            <p>Transforming with column expressions:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">age</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">retires_soon</span><span class="delimiter">&quot;</span></span>).of(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Cosin</span><span class="delimiter">&quot;</span></span>, <span class="integer">61</span>, <span class="predefined-constant">false</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Walewski</span><span class="delimiter">&quot;</span></span>, <span class="integer">25</span>, <span class="predefined-constant">false</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">O'Hara</span><span class="delimiter">&quot;</span></span>, <span class="integer">59</span>, <span class="predefined-constant">false</span>);

DataFrame df1 = df
        .rows(<span class="error">$</span><span class="type">int</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">age</span><span class="delimiter">&quot;</span></span>).mapConditionVal(a -&gt; <span class="integer">67</span> - a &lt; <span class="integer">10</span>))
        .select(
                <span class="error">$</span>col(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>),
                <span class="error">$</span>col(<span class="string"><span class="delimiter">&quot;</span><span class="content">age</span><span class="delimiter">&quot;</span></span>),
                <span class="error">$</span>val(<span class="predefined-constant">true</span>)); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>Select the rows from each column without changes, except the last one, where we flip the "retires_soon" flag to "true".</td>
                                </tr>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
last   age retires_soon
------ --- ------------
Cosin   61         true
O'Hara  59         true
                                </pre>
                            </div>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">
                                        We had to specify an expression for every column in the DataFrame, even though only a single column got transformed. This code can be improved by creating a <code>RowColumnSet</code>
                                        <a href="#row_column_ops">described here</a>.
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>Transforming row-by-row with <code>RowMapper</code>:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">RowMapper</span> mapper = (from, to) -&gt; {
    from.copy(to);
    to.set(<span class="string"><span class="delimiter">&quot;</span><span class="content">retires_soon</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">true</span>);
};

DataFrame df1 = df
        .rows(<span class="error">$</span><span class="type">int</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">age</span><span class="delimiter">&quot;</span></span>).mapConditionVal(a -&gt; <span class="integer">67</span> - a &lt; <span class="integer">10</span>))
        .select(mapper);</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>
                                There&#8217;s also a way to transforming row-by-row with per-column array of <code>RowToValueMapper</code>. It is not very different from what we&#8217;ve seen so far, so we are leaving this as an exercise
                                for the reader.
                            </p>
                        </div>
                    </div>
                    <div id="_merge_rows" class="sect2 tracked-section">
                        <h3>Merge Rows</h3>
                        <div class="paragraph">
                            <p>
                                If we want to merge the result of a <code>RowSet</code> transformation to the original <code>DataFrame</code>, we&#8217;ll need to use methods like <code>map(..)</code> (i.e. those that do not start with
                                <code>select</code>):
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">age</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">retires_soon</span><span class="delimiter">&quot;</span></span>).of(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Cosin</span><span class="delimiter">&quot;</span></span>, <span class="integer">61</span>, <span class="predefined-constant">false</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Walewski</span><span class="delimiter">&quot;</span></span>, <span class="integer">25</span>, <span class="predefined-constant">false</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">O'Hara</span><span class="delimiter">&quot;</span></span>, <span class="integer">59</span>, <span class="predefined-constant">false</span>);

DataFrame df1 = df
        .rows(<span class="error">$</span><span class="type">int</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">age</span><span class="delimiter">&quot;</span></span>).mapConditionVal(a -&gt; <span class="integer">67</span> - a &lt; <span class="integer">10</span>))
        .map(
                <span class="error">$</span>col(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>),
                <span class="error">$</span>col(<span class="string"><span class="delimiter">&quot;</span><span class="content">age</span><span class="delimiter">&quot;</span></span>),
                <span class="error">$</span>val(<span class="predefined-constant">true</span>));</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
last     age retires_soon
-------- --- ------------
Cosin     61         true
Walewski  25        false
O'Hara    59         true
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>Merging rows is done similar to columns, except rows have no name labels, so it is done by position. General merge rules:</p>
                        </div>
                        <div class="ulist">
                            <ul>
                                <li>
                                    <p>
                                        Merging is done by row position. DataFrame rows with matching positions are replaced with transformed versions, rows that are not a part of the <code>RowSet</code> are left unchanged, and rows in the
                                        <code>RowSet</code>, but not in the <code>DataFrame</code> (e.g., intentionally duplicated rows or split rows) are appended in the bottom.
                                    </p>
                                </li>
                                <li>
                                    <p>
                                        The order of the existing rows in the <code>RowSet</code> has no effect on the order of replaced rows (i.e. they are placed in their original positions). The relative order of added rows is respected.
                                    </p>
                                </li>
                            </ul>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">
                                        Just like with columns, for most <code>RowSet.select(..)</code> methods there are "merging" counterparts, such as <code>map(..)</code>, <code>expand(..)</code>, <code>unique(..)</code>, etc.
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div id="_split_rows" class="sect2 tracked-section">
                        <h3>Split Rows</h3>
                        <div class="paragraph">
                            <p>Splitting rows is somewhat simpler than <a href="#column_ops_split">splitting columns</a>. The API takes a single column (no expression is allowed), and splits any expandable values into new rows:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">phones</span><span class="delimiter">&quot;</span></span>).of(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Cosin</span><span class="delimiter">&quot;</span></span>, <span class="predefined-type">List</span>.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">111-555-5555</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">111-666-6666</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">111-777-7777</span><span class="delimiter">&quot;</span></span>),
        <span class="string"><span class="delimiter">&quot;</span><span class="content">O'Hara</span><span class="delimiter">&quot;</span></span>, <span class="predefined-type">List</span>.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">222-555-5555</span><span class="delimiter">&quot;</span></span>));

DataFrame df1 = df
        .rows()
        .selectExpand(<span class="string"><span class="delimiter">&quot;</span><span class="content">phones</span><span class="delimiter">&quot;</span></span>);</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
name   phones
------ ------------
Cosin  111-555-5555
Cosin  111-666-6666
Cosin  111-777-7777
O'Hara 222-555-5555
                                </pre>
                            </div>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">
                                        The expansion column can contain scalars, arrays or iterables.
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div id="_unique_rows" class="sect2 tracked-section">
                        <h3>Unique Rows</h3>
                        <div class="paragraph">
                            <p>To deduplicate DataFrames, there&#8217;s an API to select fully or partially-unique rows. Uniqueness is checked either on all columns of each row, or a preselected subset:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>).of(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Jerry</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Cosin</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Jerry</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Jones</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Jerry</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Cosin</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Joan</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">O'Hara</span><span class="delimiter">&quot;</span></span>);

DataFrame df1 = df.rows().selectUnique(); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>Keep only fully unique rows</td>
                                </tr>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
first last
----- ------
Jerry Cosin
Jerry Jones
Joan  O'Hara
                                </pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df2 = df.rows().selectUnique(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>Deduplicate first names. Picking the row of each earliest-encountered unique first name.</td>
                                </tr>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
first last
----- ------
Jerry Cosin
Joan  O'Hara
                                </pre>
                            </div>
                        </div>
                    </div>
                    <div id="_drop_rows" class="sect2 tracked-section">
                        <h3>Drop Rows</h3>
                        <div class="paragraph">
                            <p>To get rid of certain rows in a DataFrame, you can either select the rows you would want to drop, and call <code>drop()</code> or select the rows you’d want to remain and call <code>select()</code>:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">middle</span><span class="delimiter">&quot;</span></span>).of(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Jerry</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Cosin</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">M</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Juliana</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Walewski</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Joan</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">O'Hara</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">P</span><span class="delimiter">&quot;</span></span>);

DataFrame df1 = df.rows(<span class="error">$</span>col(<span class="string"><span class="delimiter">&quot;</span><span class="content">middle</span><span class="delimiter">&quot;</span></span>).isNull()).drop();</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">middle</span><span class="delimiter">&quot;</span></span>).of(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Jerry</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Cosin</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">M</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Juliana</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Walewski</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Joan</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">O'Hara</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">P</span><span class="delimiter">&quot;</span></span>);

DataFrame df1 = df.rowsExcept(<span class="error">$</span>col(<span class="string"><span class="delimiter">&quot;</span><span class="content">middle</span><span class="delimiter">&quot;</span></span>).isNull()).select();</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>In both cases, the result is the same:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
first last   middle
----- ------ ------
Jerry Cosin  M
Joan  O'Hara P
                                </pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="row_column_ops" class="sectionbody tracked-section">
                  <h2>Row and Column Operations</h2>
                    <div class="paragraph">
                        <p>TODO</p>
                    </div>
                </div>
                <div class="sectionbody">
                    <div id="_pick_rows_and_columns" class="sect2 tracked-section">
                        <h3>Pick Rows and Columns</h3>
                        <div class="paragraph">
                            <p>TODO</p>
                        </div>
                    </div>
                    <div id="_transform_rows_and_columns" class="sect2 tracked-section">
                        <h3>Transform Rows and Columns</h3>
                        <div class="paragraph">
                            <p>TODO</p>
                        </div>
                    </div>
                    <div id="_merge_rows_and_columns" class="sect2 tracked-section">
                        <h3>Merge Rows and Columns</h3>
                        <div class="paragraph">
                            <p>TODO</p>
                        </div>
                    </div>
                    <div id="_drop_rows_and_columns" class="sect2 tracked-section">
                        <h3>Drop Rows and Columns</h3>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="head_tail" class="sectionbody tracked-section">
                    <h2>Head and Tail</h2>
                    <div class="paragraph">
                        <p>
                            As we&#8217;ve seen previously, most operations within a single DataFrame are performed on row and column sets. Still, some are applied to the DataFrame directly. <code>head</code> and <code>tail</code> are such
                            examples.
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>When you only need the "first N" or "last M" rows of a DataFrame (or values of a Series) you can use <code>head</code> and <code>tail</code> operations. Here is how to get the top 2 rows of a DataFrame:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="CodeRay highlight"
                            ><code data-lang="java">DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>).of(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Jerry</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Cosin</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Juliana</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Walewski</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Joan</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">O'Hara</span><span class="delimiter">&quot;</span></span>);

DataFrame df1 = df.head(<span class="integer">2</span>); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tr>
                                <td><i class="conum" data-value="1"></i><b>1</b></td>
                                <td>Returns a new DataFrame with two top rows of the original DataFrame.</td>
                            </tr>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre>
first   last
------- ---------
Jerry   Cosin
Juliana Walewski
                            </pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p><code>tail</code> works similarly, but returns the <em>last</em> N rows:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre class="CodeRay highlight"><code data-lang="java">DataFrame df1 = df.tail(<span class="integer">1</span>);</code></pre>
                        </div>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre>
first last
----- ------
Joan  O'Hara
1 row x 2 columns
                            </pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>
                            The argument to either <code>head(..)</code> or <code>tail(..)</code> can be negative. In which case the operation skips the specified number of elements either from the top or from the bottom, and returns the
                            remaining elements. The following code returns a new DataFrame after skipping the two top rows of the original DataFrame:
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre class="CodeRay highlight"><code data-lang="java">DataFrame df1 = df.head(-<span class="integer">2</span>);</code></pre>
                        </div>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre>
first  last
------ ---------
Joan  O'Hara
1 row x 2 columns
                            </pre>
                        </div>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tr>
                                <td class="icon">
                                    <i class="fa icon-note" title="Note"></i>
                                </td>
                                <td class="content">
                                    Unlike index operations on arrays and lists in Java, <code>head(..)</code> and <code>tail(..)</code> are safe in regards to bounds checking. They DO NOT throw exceptions when the length parameter is
                                    bigger than DataFrame height (or Series size), returning an empty DataFame (or Series) instead.
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tr>
                                <td class="icon">
                                    <i class="fa icon-note" title="Note"></i>
                                </td>
                                <td class="content"><code>Series</code> also define <code>head(..)</code> and <code>tail(..)</code> that do what you&#8217;d expect, returning first or last N values.</td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="sorting" class="sectionbody tracked-section">
                  <h2>Sorting</h2>
                    <div class="paragraph">
                        <p>
                            You can sort values in <code>Series</code>, and sort rows in <code>DataFrames</code>. As is the case everywhere else in DFLib, sorting does not alter the original object, and instead creates a new instance of
                            either Series or DataFrame.
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>First let&#8217;s look at sorting Series&#8230;&#8203;</p>
                    </div>
                </div>
                <div class="sectionbody">
                    <div id="_sort_series" class="sect2 tracked-section">
                        <h3>Sort Series</h3>
                        <div class="paragraph">
                            <p>Series provides a <code>sort</code> method to sort its data using a <a href="#sorter">sorter</a> built from an expression:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java"><span class="comment">// sort series by String length</span>
Series&lt;<span class="predefined-type">String</span>&gt; s = Series
        .of(<span class="string"><span class="delimiter">&quot;</span><span class="content">12</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">123</span><span class="delimiter">&quot;</span></span>)
        .sort(<span class="error">$</span>str(<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>).mapVal(<span class="predefined-type">String</span>::length).asc());</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>The result is a new Series with sorted data:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
1
12
123
3 elements
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>Alternatively the same can be achieved using a Comparator:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">Series&lt;<span class="predefined-type">String</span>&gt; s = Series
        .of(<span class="string"><span class="delimiter">&quot;</span><span class="content">12</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">1</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">123</span><span class="delimiter">&quot;</span></span>)
        .sort(<span class="predefined-type">Comparator</span>.comparingInt(<span class="predefined-type">String</span>::length));</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>The next example shows how to sort Series in the "natural" order (alphabetically for Strings):</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">Series&lt;<span class="predefined-type">String</span>&gt; s = Series
        .of(<span class="string"><span class="delimiter">&quot;</span><span class="content">c</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">d</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>)
        .sort(<span class="error">$</span>str(<span class="string"><span class="delimiter">&quot;</span><span class="delimiter">&quot;</span></span>).asc());</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
a
c
d
3 elements
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>Series of primitives have methods to sort values in the natural order without an explicit sorter or comparator:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">LongSeries s = Series
        .ofLong(<span class="predefined-type">Long</span>.MAX_VALUE, <span class="integer">15L</span>, <span class="integer">0L</span>)
        .sortLong();</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
                  0
                 15
9223372036854775807
3 elements
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>Additionally, <code>IntSeries</code> has an optimized method to sort ints with a custom <code>IntComparator</code>.</p>
                        </div>
                        <div class="paragraph">
                            <p>Next we&#8217;ll check how to sort a DataFrame.</p>
                        </div>
                    </div>
                    <div id="_sort_dataframe" class="sect2 tracked-section">
                        <h3>Sort DataFrame</h3>
                        <div class="paragraph">
                            <p>Rows in a DataFrame can be sorted with one or more <a href="#sorter">sorters</a>.</p>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">
                                        Just like in other places where a Sorter might be used, there is an assumption that the Sorter expression produces values that are either Java primitives or are compatible with
                                        <code>java.lang.Comparable</code> (i.e., Strings, numbers, etc).
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">middle</span><span class="delimiter">&quot;</span></span>).of(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Jerry</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Cosin</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">M</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Juliana</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Walewski</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Jerry</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Albert</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Joan</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">O'Hara</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">J</span><span class="delimiter">&quot;</span></span>);

DataFrame df1 = df.sort(
        <span class="error">$</span>str(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>).asc(),
        <span class="error">$</span>str(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>).asc());</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
first   last      middle
------- --------- ------
Juliana Walewski  null
Jerry   Albert    null
Jerry   Cosin     M
Joan    O'Hara    J
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>
                                Alternatively sorting can be done by a single column name or an array of columns. The assumption is the same as above - values in columns used for sorting must be either Java primitive or implement
                                <code>java.lang.Comparable</code>.
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">middle</span><span class="delimiter">&quot;</span></span>).of(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Jerry</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Cosin</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">M</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Juliana</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Walewski</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Joan</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">O'Hara</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">J</span><span class="delimiter">&quot;</span></span>);

DataFrame df1 = df.sort(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">true</span>); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>
                                        The first argument is the column name (can also be column integer index), the second - a boolean indicating sort direction (<code>true</code> for ascending, <code>false</code> - for descending order).
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">middle</span><span class="delimiter">&quot;</span></span>).of(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Jerry</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Cosin</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">M</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Juliana</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Walewski</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Jerry</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Albert</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Joan</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">O'Hara</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">J</span><span class="delimiter">&quot;</span></span>);

DataFrame df1 = df.sort(<span class="keyword">new</span> <span class="predefined-type">String</span><span class="type">[]</span>{<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>}, <span class="keyword">new</span> <span class="type">boolean</span><span class="type">[]</span>{<span class="predefined-constant">true</span>, <span class="predefined-constant">false</span>});</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="_concatenation" class="sectionbody tracked-section">
                  <h2>Concatenation</h2>
                  <div class="paragraph">
                      <p>
                          There are various ways to combine data from multiple <code>Series</code> or <code>DataFrames</code>. The simplest is <em>concatenation</em>, described in this chapter. Series can be concatenated together
                          producing a longer Series. DataFrames can be concatenated either vertically (along the rows axis) or horizontally (along the columns axis).
                      </p>
                  </div>
                </div>
                <div class="sectionbody">
                    <div id="_concatenate_series" class="sect2 tracked-section">
                        <h3>Concatenate Series</h3>
                        <div class="paragraph">
                            <p>If you have a Series object and want to concatenate it with one or more other Series, you&#8217;d use <code>Series.concat(..)</code> method:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">Series&lt;<span class="predefined-type">String</span>&gt; s1 = Series.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">x</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">y</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">z</span><span class="delimiter">&quot;</span></span>);
Series&lt;<span class="predefined-type">String</span>&gt; s2 = Series.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>);
Series&lt;<span class="predefined-type">String</span>&gt; s3 = Series.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">m</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">n</span><span class="delimiter">&quot;</span></span>);

Series&lt;<span class="predefined-type">String</span>&gt; sConcat = s1.concat(s2, s3);</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>The result is as expected contains values of all Series put together:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
x
y
z
a
m
n
6 elements
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>If you have a collection or an array of Series and want to "glue" them together, you can use a static <code>SeriesConcat.concat(..)</code>:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java"><span class="predefined-type">Collection</span>&lt;Series&lt;<span class="predefined-type">String</span>&gt;&gt; ss = asList(
        Series.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">x</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">y</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">z</span><span class="delimiter">&quot;</span></span>),
        Series.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>),
        Series.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">m</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">n</span><span class="delimiter">&quot;</span></span>));

Series&lt;<span class="predefined-type">String</span>&gt; sConcat = SeriesConcat.concat(ss);</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>The result is the same as in the previous example. Also you can concatenate Series with itself:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">Series&lt;<span class="predefined-type">String</span>&gt; s = Series.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">x</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">y</span><span class="delimiter">&quot;</span></span>);
Series&lt;<span class="predefined-type">String</span>&gt; sConcat = s.concat(s);</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
x
y
x
y
4 elements
                                </pre>
                            </div>
                        </div>
                    </div>
                    <div id="_concatenate_dataframes" class="sect2 tracked-section">
                        <h3>Concatenate DataFrames</h3>
                        <div class="paragraph">
                            <p>DataFrame offers two options for concatenation - <em>vertical</em> (stacking DataFrames on top of each other) and <em>horizontal</em> (putting them next to each other). Let&#8217;s see some examples..</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df1 = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>).of(
        <span class="integer">1</span>, <span class="integer">2</span>,
        <span class="integer">3</span>, <span class="integer">4</span>);

DataFrame df2 = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>).of(
        <span class="integer">5</span>, <span class="integer">6</span>,
        <span class="integer">7</span>, <span class="integer">8</span>);

DataFrame dfv = df1.vConcat(df2); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>Concatenate this and another DataFrame vertically. The argument is a vararg, so more than one DataFrame can be passed to the method.</td>
                                </tr>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
a b
- -
1 2
3 4
5 6
7 8
                                </pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">DataFrame dfh = df1.hConcat(df2); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>Concatenate this and another DataFrame horizontally. The argument is a vararg, so more than one DataFrame can be passed to the method.</td>
                                </tr>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
a b a_ b_
- - -- --
1 2 5  6
3 4 7  8
                                </pre>
                            </div>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">
                                        Since both <code>df1</code> and <code>df2</code> had the same column names, and a DataFrame must only have unique columns, <code>_</code> suffix was automatically appended to the conflicting columns
                                        in the resulting DataFrame. We will see this auto-renaming behavior in other places, such as joins.
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>
                                So far all our concatenation examples consisted of DataFrames that had matching dimensions (same number and names of columns for <code>vConcat</code> and same number of rows for <code>hConcat</code>). But
                                what if concatenated DataFrames are shaped or named differently?
                            </p>
                        </div>
                        <div class="paragraph">
                            <p>
                                Concat methods may take an extra "how" parameter to define concatenation semantics. The type of the "how" parameter is <code>JoinType</code>, and can be one of <code>inner</code> (default), <code>left</code>,
                                <code>right</code>, <code>full</code>.
                            </p>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">We&#8217;ll see <code>JoinType</code> again soon when discussing <a href="#joins">joins</a>. Concatenation and joins are related fairly closely.</td>
                                </tr>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>Let&#8217;s look how this works with <code>vConcat</code>:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df1 = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>).of(
        <span class="integer">1</span>, <span class="integer">2</span>,
        <span class="integer">3</span>, <span class="integer">4</span>);

DataFrame df2 = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">c</span><span class="delimiter">&quot;</span></span>).of( <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="integer">5</span>, <span class="integer">6</span>,
        <span class="integer">7</span>, <span class="integer">8</span>);

DataFrame dfv = df1.vConcat(JoinType.inner, df2); <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td><code>df1</code> column names are "b" and "c", while <code>df2</code> - "a" and "c".</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="2"></i><b>2</b></td>
                                    <td>Explicitly passing <code>JoinType.inner</code> to <code>vConcat</code>. It is done to demonstrate the point. Since <code>inner</code> is the default, omitting it will not change the outcome.</td>
                                </tr>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
a
-
2
4
5
7
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>
                                As you can see in the result, the behavior of <code>inner</code> join is to only keep columns that are present in both <code>df1</code> and <code>df2</code>. Columns are joined by name, regardless of their
                                order (though the order of columns is preserved in the result, following the order in each DataFame being joined, left to right).
                            </p>
                        </div>
                        <div class="paragraph">
                            <p>
                                Changing semantics from <code>inner</code> to <code>left</code> gives us all the columns of the leftmost DataFrame, but those columns that are missing from the concatenated DataFrame are filled with nulls in
                                the corresponding positions:
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">DataFrame dfv = df1.vConcat(JoinType.left, df2);</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
b    a
---- -
1    2
3    4
null 5
null 7
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>Leaving it as an exercise for the reader to try <code>right</code> and <code>full</code> joins.</p>
                        </div>
                        <div class="paragraph">
                            <p><code>hConcat</code> works similarly, however concatenation is done by row <em>position</em>, as there are no row names:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df1 = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>).of(
        <span class="integer">1</span>, <span class="integer">2</span>,
        <span class="integer">3</span>, <span class="integer">4</span>,
        <span class="integer">5</span>, <span class="integer">6</span>);

DataFrame df2 = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">c</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">d</span><span class="delimiter">&quot;</span></span>).of(
        <span class="integer">7</span>, <span class="integer">8</span>,
        <span class="integer">9</span>, <span class="integer">10</span>);

DataFrame dfv = df1.hConcat(JoinType.left, df2);</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
a b c    d
- - ---- ----
1 2 7    8
3 4 9    10
5 6 null null
                                </pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="joins" class="sectionbody tracked-section">
                  <h2>Joins</h2>
                  <div class="paragraph">
                      <p>
                          If you worked with relational databases, you know what "joins" are. This is a way to combine related rows from multiple tables. DataFrames can be joined together, just like two DB tables. DFLib provides 4
                          familiar flavors of joins: <code>inner</code>, <code>left</code> (outer), <code>right</code> (outer) and <code>full</code> (outer).
                      </p>
                  </div>
                </div>
                <div class="sectionbody">
                    <div id="_inner_joins" class="sect2 tracked-section">
                        <h3>Inner Joins</h3>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">DataFrame left = DataFrame
        .foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>)
        .of(<span class="integer">1</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Jerry</span><span class="delimiter">&quot;</span></span>, <span class="integer">2</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Juliana</span><span class="delimiter">&quot;</span></span>, <span class="integer">3</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Joan</span><span class="delimiter">&quot;</span></span>);

DataFrame right = DataFrame
        .foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">age</span><span class="delimiter">&quot;</span></span>)
        .of(<span class="integer">2</span>, <span class="integer">25</span>, <span class="integer">3</span>, <span class="integer">59</span>, <span class="integer">4</span>, <span class="integer">40</span>);

DataFrame joined = left
        .join(right) <i class="conum" data-value="1"></i><b>(1)</b>
        .on(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="2"></i><b>(2)</b>
        .select();</code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>
                                        <code>join(..)</code> is equivalent to <code>innerJoin(..)</code> (just like in SQL). With "inner" semantics, only the matching rows that are present in both DataFrames will be included in the result
                                        below.
                                    </td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="2"></i><b>2</b></td>
                                    <td>
                                        Columns used in the join criteria have the same name in both DataFrames, so we can specify the name of the join column only once. In general, the names do not need to match, and multiple columns can
                                        participate in a join.
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
id name    id_ age
-- ------- --- ---
 2 Juliana   2  25
 3 Joan      3  59
                                </pre>
                            </div>
                        </div>
                    </div>
                    <div id="_column_namespace" class="sect2 tracked-section">
                        <h3>Column Namespace</h3>
                        <div class="paragraph">
                            <p>
                                Notice how DFLib treated the <code>id</code> column in the join result above. Since it was present in both left and right DataFrames, it was included in the result twice, but the second instance was renamed
                                to <code>id_</code> to avoid a naming collision. The same renaming would occur for any other columns from the right DataFrame that have conflicting names with the columns from the left. A quick way to get rid
                                of duplicate columns is to exclude them from the result using the name pattern:
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">DataFrame joined = left
        .join(right)
        .on(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>)
        .colsExcept(c -&gt; c.endsWith(<span class="string"><span class="delimiter">&quot;</span><span class="content">_</span><span class="delimiter">&quot;</span></span>))
        .select();</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
id name    age
-- ------- ---
 2 Juliana  25
 3 Joan     59
                                </pre>
                            </div>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">
                                        You may have noticed that <code>colsExcept(..).select()</code> style of picking join columns is very similar to the <a href="#column_ops">column set API</a>. The main difference is that the
                                        <code>Join</code> object itself represents a special form of column set, and only "select" operations are available.
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>
                                For better clarity, you can assign names to the left and/or the right DataFrames just before the join, and the column names in the result will be prefixed with the corresponding <code>DataFrame</code> name,
                                thus avoiding the trailing underscore:
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame joined = left.as(<span class="string"><span class="delimiter">&quot;</span><span class="content">L</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="1"></i><b>(1)</b>
        .join(right.as(<span class="string"><span class="delimiter">&quot;</span><span class="content">R</span><span class="delimiter">&quot;</span></span>)) <i class="conum" data-value="2"></i><b>(2)</b>
        .on(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>)
        .select();</code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>Assign the name to the left DataFrame</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="2"></i><b>2</b></td>
                                    <td>Assign the name to the right DataFrame</td>
                                </tr>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>This makes it easier to identify the origin of each column.</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
L.id L.name  R.id R.age
---- ------- ---- -----
   2 Juliana    2    25
   3 Joan       3    59
                                </pre>
                            </div>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content"><code>DataFrame</code> immutability applies to name assignments as well. Calling <code>.as()</code> creates a separate <code>DataFrame</code>, so the original one remains unnamed.</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div id="_transform_columns" class="sect2 tracked-section">
                        <h3>Transform Columns</h3>
                        <div class="paragraph">
                            <p>When building the join result, you can apply expressions to alter the existing columns or create new columns all together:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame joined = left.as(<span class="string"><span class="delimiter">&quot;</span><span class="content">L</span><span class="delimiter">&quot;</span></span>)
        .join(right.as(<span class="string"><span class="delimiter">&quot;</span><span class="content">R</span><span class="delimiter">&quot;</span></span>))
        .on(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>)
        .cols(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">retires_soon</span><span class="delimiter">&quot;</span></span>)
        .select(
                <span class="error">$</span>col(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>),
                <span class="error">$</span><span class="type">int</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">R.age</span><span class="delimiter">&quot;</span></span>).gt(<span class="integer">57</span>)
        );</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
name    retires_soon
------- ------------
Juliana        false
Joan            true
                                </pre>
                            </div>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">
                                        In the context of a join, column expressions can reference either short column names of left and right DataFrames, or the fully qualified ones with the prefix. In the former case, the names should
                                        take into account the "_" suffix applied to the right <code>DataFrame</code> columns when their names overlap with column names on the left.
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div id="_outer_joins" class="sect2 tracked-section">
                        <h3>Outer Joins</h3>
                        <div class="paragraph">
                            <p>Now let&#8217;s demonstrate outer joins. Here is a <code>leftJoin(..)</code> example using the same left and right DataFrames:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">DataFrame joined = left
        .leftJoin(right)
        .on(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>)
        .select();</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
id name     id_  age
-- ------- ---- ----
 1 Jerry   null null
 2 Juliana    2   25
 3 Joan       3   59
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>It has all the rows from the left DataFrame, and only the matching rows from the right DataFrame. For left rows with no matching right rows, the right columns are filled with <code>null</code>.</p>
                        </div>
                    </div>
                    <div id="_indicator_column" class="sect2 tracked-section">
                        <h3>Indicator Column</h3>
                        <div class="paragraph">
                            <p>Join API allows to explicitly identify which rows had a match, and which didn&#8217;t by adding a special "indicator" column. Let&#8217;s show it on a <code>fullJoin(..)</code> example:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">DataFrame joined = left
        .fullJoin(right)
        .on(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>)
        .indicatorColumn(<span class="string"><span class="delimiter">&quot;</span><span class="content">join_type</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="1"></i><b>(1)</b>
        .colsExcept(c -&gt; c.endsWith(<span class="string"><span class="delimiter">&quot;</span><span class="content">_</span><span class="delimiter">&quot;</span></span>))
        .select();</code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>Request an indicator column with a user-specified name.</td>
                                </tr>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
  id name     age join_type
---- ------- ---- ----------
   1 Jerry   null left_only
   2 Juliana   25 both
   3 Joan      59 both
null null      40 right_only
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>The <code>join_type</code> column will contain a special enum of <code>org.dflib.join.JoinIndicator</code> type that allows to categorize rows in the produced DataFrame.</p>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">indicator column can be requested for all join types, but it is only useful for the three outer joins (it will always be <code>both</code> for inner joins).</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div id="_nested_loop_joins" class="sect2 tracked-section">
                        <h3>Nested Loop Joins</h3>
                        <div class="paragraph">
                            <p>
                                The joins we&#8217;ve seen so far were all based on comparing left and right column values. They are knows as "hash joins", and are usually as fast as joins can get. However, they can not express every
                                possible condition, and sometimes we have to resort to another kind of joins - "nested loop", that would compare every row from the left DataFrame to every row from the right. For instance, let&#8217;s join a
                                DataFrame of salaries with itself to produce pairs of names - a person with higher salary on the left vs. everyone with lower salary on the right:
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">salary</span><span class="delimiter">&quot;</span></span>).of(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Jerry</span><span class="delimiter">&quot;</span></span>, <span class="integer">120000</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Juliana</span><span class="delimiter">&quot;</span></span>, <span class="integer">80000</span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Joan</span><span class="delimiter">&quot;</span></span>, <span class="integer">95000</span>);

JoinPredicate p = (r1, r2) -&gt;
        ((<span class="predefined-type">Integer</span>) r1.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">salary</span><span class="delimiter">&quot;</span></span>)) &gt; ((<span class="predefined-type">Integer</span>) r2.get(<span class="string"><span class="delimiter">&quot;</span><span class="content">salary</span><span class="delimiter">&quot;</span></span>));

DataFrame joined = df
        .leftJoin(df)
        .predicatedBy(p) <i class="conum" data-value="1"></i><b>(1)</b>
        .select()
        .sort(<span class="error">$</span><span class="type">int</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">salary</span><span class="delimiter">&quot;</span></span>).desc(), <span class="error">$</span><span class="type">int</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">salary_</span><span class="delimiter">&quot;</span></span>).desc()) <i class="conum" data-value="2"></i><b>(2)</b>
        .cols(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">name_</span><span class="delimiter">&quot;</span></span>).selectAs(<span class="string"><span class="delimiter">&quot;</span><span class="content">makes_more</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">makes_less</span><span class="delimiter">&quot;</span></span>);</code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>Custom join condition</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="2"></i><b>2</b></td>
                                    <td>Sorting and renaming the result columns for a user-friendly display</td>
                                </tr>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
makes_more makes_less
---------- ----------
Jerry      Joan
Jerry      Juliana
Joan       Juliana
Juliana    null
                                </pre>
                            </div>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">Nested loop joins are <em>much</em> slower, and should be avoided unless absolutely necessary.</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="group_aggregate" class="sectionbody tracked-section">
                    <h2>Group and Aggregate</h2>
                    <div class="paragraph">
                        <p>TODO</p>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="window" class="sectionbody tracked-section">
                    <h2>Window functions</h2>
                    <div class="paragraph">
                        <p>TODO</p>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="pivot" class="sectionbody tracked-section">
                    <h2>Pivot</h2>
                    <div class="paragraph">
                        <p>TODO</p>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="stack" class="sectionbody tracked-section">
                    <h2>Stack</h2>
                    <div class="paragraph">
                        <p>TODO</p>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="udfs" class="sectionbody tracked-section">
                    <h2>User-Defined Functions</h2>
                    <div class="paragraph">
                        <p>
                            User-defined functions (aka "UDF") is a way to create highly-reusable expressions. <a href="#expressions">Expressions</a> are, of course, abstract transformations of columns, so they are already somewhat
                            reusable. However, they encode names (or positions) of all columns they operate on. So you won&#8217;t be able to apply the same expression to two different sets of columns in the same DataFrame. UDFs are
                            intended to address this limitation and make expressions fully dynamic.
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>As the name implies, a UDF is a function (usually implemented as a lambda or a method ref). It takes one or more expressions as parameters, and produces a single expression:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre class="CodeRay highlight"><code data-lang="java"><span class="type">void</span> formatNames() {
    DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>).of(
            <span class="string"><span class="delimiter">&quot;</span><span class="content">JERRY</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">COSIN</span><span class="delimiter">&quot;</span></span>,
            <span class="string"><span class="delimiter">&quot;</span><span class="content">juliana</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">waLEwsKi</span><span class="delimiter">&quot;</span></span>);

    Udf1&lt;<span class="predefined-type">String</span>, <span class="predefined-type">String</span>&gt; formatName = e -&gt;
            e.castAsStr().mapVal(<span class="local-variable">this</span>::formatName); <i class="conum" data-value="1"></i><b>(1)</b>

    DataFrame clean = df.cols(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>).map(
            formatName.call(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>),
            formatName.call(<span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>)); <i class="conum" data-value="2"></i><b>(2)</b>
}

<span class="predefined-type">String</span> formatName(<span class="predefined-type">String</span> raw) {
    <span class="keyword">return</span> <span class="predefined-type">Character</span>.toUpperCase(raw.charAt(<span class="integer">0</span>))
            + raw.substring(<span class="integer">1</span>).toLowerCase();
}</code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tr>
                                <td><i class="conum" data-value="1"></i><b>1</b></td>
                                <td>Define a UDF that takes a single parameter and performs proper name capitalization</td>
                            </tr>
                            <tr>
                                <td><i class="conum" data-value="2"></i><b>2</b></td>
                                <td>Apply the same UDF separately to the "first" and "last" name columns</td>
                            </tr>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre>
first   last
------- --------
Jerry   Cosin
Juliana Walewski
                            </pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>In the example above, we called the UDF multiple times, each time with a different column name. A UDF can also be invoked with a numeric position or a full expression instead of a column name.</p>
                    </div>
                    <div class="paragraph">
                        <p>
                            Above, we used <code>Udf1</code> function, that takes only one expression (or column) as an input. Generally, UDFs can take any number of expressions (columns). There are <code>Udf1</code>, <code>Udf2</code>,
                            <code>Udf3</code> and <code>UdfN</code> interfaces. The latter can take any number of arguments and should be used to model UDFs with more than 3 inputs or a variable number of inputs:
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre
                                class="CodeRay highlight"
                            ><code data-lang="java">DataFrame df = DataFrame.foldByRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>).of(
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Jerry</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Cosin</span><span class="delimiter">&quot;</span></span>,
        <span class="predefined-constant">null</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Walewski</span><span class="delimiter">&quot;</span></span>,
        <span class="string"><span class="delimiter">&quot;</span><span class="content">Joan</span><span class="delimiter">&quot;</span></span>, <span class="predefined-constant">null</span>);

UdfN&lt;<span class="predefined-type">Boolean</span>&gt; noNulls = exps -&gt; and( <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="predefined-type">List</span>.of(exps)
                .stream()
                .map(Exp::isNotNull)
                .toArray(<span class="predefined-type">Condition</span><span class="type">[]</span>::<span class="keyword">new</span>)
);

DataFrame clean = df
        .rows(noNulls.call(<span class="string"><span class="delimiter">&quot;</span><span class="content">first</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">last</span><span class="delimiter">&quot;</span></span>).castAsBool()) <i class="conum" data-value="2"></i><b>(2)</b>
        .select();</code></pre>
                        </div>
                    </div>
                    <div class="colist arabic">
                        <table>
                            <tr>
                                <td><i class="conum" data-value="1"></i><b>1</b></td>
                                <td>Build a UDF with dynamic number of input parameters packaged in the <code>Exp[]</code></td>
                            </tr>
                            <tr>
                                <td><i class="conum" data-value="2"></i><b>2</b></td>
                                <td>
                                    Call the UDF to create a row filter. Since the UDF return type is <code>Exp&lt;Boolean&gt;</code>, we need to explicitly "cast" it to <code>Condition</code> expected by the <code>RowSet</code>, so we used
                                    <code>castAsBool()</code>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre>
first last
----- -----
Jerry Cosin
                            </pre>
                        </div>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tr>
                                <td class="icon">
                                    <i class="fa icon-note" title="Note"></i>
                                </td>
                                <td class="content">
                                    Performance hint: If the logic within a UDF requires converting a column to a specific data type, and the column you are applying it to is known to be of that type already, you can speed up evaluation by
                                    passing an expression of that type to the UDF. E.g. if a UDF calls <code>castAsInt()</code> on its argument, <code>udf.call($int("a"))</code> is much faster than <code>udf.call("a")</code>.
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="jdbc" class="sectionbody tracked-section">
                    <h2>Using Relational Databases</h2>
                      <div class="paragraph">
                        <p>
                            Relational databases are arguably the most important type of data stores out there. Also they happen to map really well to DataFrames. DFLib provides advanced support for loading and saving DataFrames to RDBMS.
                            It supports transactions, auto-generation of certain SQL statements, merging of data on top of the existing data ("create-or-update"), building custom SQL for selects and updates. It knows how to treat different
                            DB "flavors" and does a number of other cool database-related things.
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>To start using all this, you need to import <code>dflib-jdbc</code> module:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.dflib<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>dflib-jdbc<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;/dependency&gt;</span>

<span class="comment">&lt;!-- Of course you also need to import your preferred JDBC driver --&gt;</span></code></pre>
                        </div>
                    </div>
                </div>
                <div class="sectionbody">
                    <div id="_jdbcconnector" class="sect2 tracked-section">
                        <h3>JdbcConnector</h3>
                        <div class="paragraph">
                            <p>
                                Once the imports are setup, you&#8217;d use <code>Jdbc</code> class to obtain an instance of <code>JdbcConnector</code> that can be later used for all DB operations. You may already have a preconfigured
                                <code>javax.sql.DataSource</code>, so the simplest way to create a connector is to pass that DataSource to <code>Jdbc</code> factory method:
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">JdbcConnector connector = Jdbc.connector(dataSource);</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>Alternatively you can build everything from scratch:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">JdbcConnector connector = Jdbc
        .connector(<span class="string"><span class="delimiter">&quot;</span><span class="content">jdbc:derby:target/derby/mydb;create=true</span><span class="delimiter">&quot;</span></span>)
        <span class="comment">// .driver(&quot;com.foo.MyDriver&quot;) </span><i class="conum" data-value="1"></i><b>(1)</b>
        <span class="comment">// .userName(&quot;root&quot;)</span>
        <span class="comment">// .password(&quot;secret&quot;) </span><i class="conum" data-value="2"></i><b>(2)</b>
        .build();</code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>(Optional) Driver name. Some drivers are not properly registered with the DriverManager, and require an explicit declaration.</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="2"></i><b>2</b></td>
                                    <td>DB account username/password (not needed for our in-memory Derby example, but will definitely be required for a real database).</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div id="_tableloader_tablesaver" class="sect2 tracked-section">
                        <h3>TableLoader / TableSaver</h3>
                        <div class="paragraph">
                            <p>
                                Once you have the connector, you can start reading and persisting DataFrame data. Many DataFrames map directly to individual tables (or views) defined in the database. For those DFLib provides a set of rather
                                straightforward operations that do not require the user to write SQL (all needed SQL is auto-generated by the framework):
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df = connector.tableLoader(<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>).load();</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
id name              salary
-- ----------------- --------
 1 Jerry Cosin       70000.0
 2 Juliana Walewski  85000.0
 3 Joan O'Hara       101000.0
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>
                                Table loader provides a way to customize the load operation. It allows to select specific columns, set the maximum number of rows to read, sample rows, and even specify fetch condition as another DataFrame.
                                Some examples:
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">DataFrame condition = DataFrame
        .byColumn(<span class="string"><span class="delimiter">&quot;</span><span class="content">salary</span><span class="delimiter">&quot;</span></span>)
        .of(Series.ofInt(<span class="integer">70</span>_000, <span class="integer">101</span>_000));

DataFrame df = connector.tableLoader(<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>)
        .cols(<span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">salary</span><span class="delimiter">&quot;</span></span>)
        .eq(condition)
        .load();</code></pre>
                            </div>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
name        salary
----------- --------
Jerry Cosin 70000.0
Joan O'Hara 101000.0
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>What it doesn&#8217;t require (unlike <a href="#csv">CSV loader</a>) is explicit column types, as the proper value types are inferred from the database metadata.</p>
                        </div>
                        <div class="paragraph">
                            <p>Table saver allows to save DataFrame to a table. Column names in the DataFrame should match column names in the DB table:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df = DataFrame.byArrayRow(<span class="string"><span class="delimiter">&quot;</span><span class="content">id</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">name</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">salary</span><span class="delimiter">&quot;</span></span>)
        .appender()
        .append(<span class="integer">1</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Jerry Cosin</span><span class="delimiter">&quot;</span></span>, <span class="integer">70</span>_000)
        .append(<span class="integer">2</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Juliana Walewski</span><span class="delimiter">&quot;</span></span>, <span class="integer">85</span>_000)
        .append(<span class="integer">3</span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">Joan O'Hara</span><span class="delimiter">&quot;</span></span>, <span class="integer">101</span>_000)
        .toDataFrame();

connector.tableSaver(<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>).save(df);</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>In this scenario table saver executes insert for each DataFrame row. But what if there is already an existing data in the table? There are a few options the user has to overwrite or merge the data:</p>
                        </div>
                        <div class="ulist">
                            <ul>
                                <li>
                                    <p>Append the data (that&#8217;s what we effectively did above).</p>
                                </li>
                                <li>
                                    <p>Delete all existing data before doing the insert.</p>
                                </li>
                                <li>
                                    <p>
                                        Merge the data by comparing DataFrame and DB table data on PK column(s) or an arbitrary set of columns. Insert missing rows, update the existing rows. If the table has more columns than there are
                                        columns in the DataFrame, the data in those extra columns is preserved.
                                    </p>
                                </li>
                            </ul>
                        </div>
                        <div class="paragraph">
                            <p>Delete before insert example:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">connector.tableSaver(<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>)
        .deleteTableData()
        .save(df);</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>Merge by PK example (PK columns are detected from DB metadata) :</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">connector.tableSaver(<span class="string"><span class="delimiter">&quot;</span><span class="content">person</span><span class="delimiter">&quot;</span></span>)
        .mergeByPk()
        .save(df);</code></pre>
                            </div>
                        </div>
                    </div>
                    <div id="_sqlloader_sqlsaver" class="sect2 tracked-section">
                        <h3>SqlLoader / SqlSaver</h3>
                        <div class="paragraph">
                            <p>TODO</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="csv" class="sectionbody tracked-section">
                    <h2>CSV Files</h2>
                    <div class="paragraph">
                        <p>
                            CSV (comma-separated values) is a very common and rather simple format for working with raw data. <code>*.csv</code> files can be manipulated programmatically or manually (via Excel/LibreOffice), loaded to / from
                            databases, etc. DFLib supports reading DataFrames from CSV and storing them to CSV. You need to add an extra dependency to your project to take advantage of this functionality:
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.dflib<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>dflib-csv<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>Once you do that, <code>Csv</code> class is the entry point to all the <code>.csv</code> related operations as discussed below.</p>
                    </div>
                </div>
                <div class="sectionbody">
                    <div id="_reading_from_csv" class="sect2 tracked-section">
                        <h3>Reading from CSV</h3>
                        <div class="paragraph">
                            <p>The simplest API for reading a DataFrame from a CSV is this:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df = Csv.load(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/test/resources/f1.csv</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>The argument to the "load" method can be a filename, a file, or a Reader, so it can be loaded from a variety of sources.</td>
                                </tr>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>The result is a DataFrame that matches CSV structure:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
A B
- --
1 s1
4 s2
                                </pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>
                                DFLib makes a few assumptions about the data in <code>f1.csv</code>, namely that the first row represents column names, that all columns are Strings, and that all of them need to be included. These
                                assumptions are not necessarily true with many data sets. So there is a longer form of this API that allows to configure column types, skip rows and columns, or even sample the data without loading the entire
                                CSV in memory. Some examples:
                            </p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">DataFrame df = Csv.loader() <i class="conum" data-value="1"></i><b>(1)</b>
        .offset(<span class="integer">1</span>) <i class="conum" data-value="2"></i><b>(2)</b>
        .header(<span class="string"><span class="delimiter">&quot;</span><span class="content">x</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">y</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="3"></i><b>(3)</b>
        .intColumn(<span class="string"><span class="delimiter">&quot;</span><span class="content">x</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="4"></i><b>(4)</b>
        .load(<span class="string"><span class="delimiter">&quot;</span><span class="content">src/test/resources/f1.csv</span><span class="delimiter">&quot;</span></span>);</code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>Instead of "load" method use "loader".</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="2"></i><b>2</b></td>
                                    <td>Skip the header row.</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="3"></i><b>3</b></td>
                                    <td>Provide our own header.</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="4"></i><b>4</b></td>
                                    <td>Convert the first column to int.</td>
                                </tr>
                            </table>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>
x y
- --
1 s1
4 s2
                                </pre>
                            </div>
                        </div>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">
                                        In theory, you don&#8217;t have to do most of these tweaks via CSV loader. You can load the raw data, and then use standard DataFrame transformations to shape the result. However doing it via the
                                        loader allows to optimize both load speed and memory use, so it is usually preferable.
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                    <div id="_writing_to_csv" class="sect2 tracked-section">
                        <h3>Writing to CSV</h3>
                        <div class="paragraph">
                            <p>Writing to a CSV is equally easy:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">Csv.save(df, <span class="string"><span class="delimiter">&quot;</span><span class="content">target/df.csv</span><span class="delimiter">&quot;</span></span>); <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>The argument to the "save" method can be a filename, a file, a Writer (or generally Appendable), so it can be stored to a variety of destinations.</td>
                                </tr>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>Just like with the loader, CSV saver provides its own set of options, if the defaults are not sufficient:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">Csv.saver() <i class="conum" data-value="1"></i><b>(1)</b>
        .createMissingDirs() <i class="conum" data-value="2"></i><b>(2)</b>
        .format(CSVFormat.EXCEL) <i class="conum" data-value="3"></i><b>(3)</b>
        .save(df, <span class="string"><span class="delimiter">&quot;</span><span class="content">target/csv/df.csv</span><span class="delimiter">&quot;</span></span>);</code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>Instead of "save" method use "saver" to be able to customize the process.</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="2"></i><b>2</b></td>
                                    <td>If intermediate directories for the output file are missing, create them.</td>
                                </tr>
                                <tr>
                                    <td><i class="conum" data-value="3"></i><b>3</b></td>
                                    <td>Provide an alternative format (either from a collection of known formats, or user-specific).</td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="excel" class="sectionbody tracked-section">
                    <h2>Excel Files</h2>
                    <div class="paragraph">
                        <p>
                            Excel format is very common in the business and finance world. DFLib supports reading DataFrames from and storing them to Excel. You need to add an extra dependency to your project to take advantage of this
                            functionality:
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.dflib<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>dflib-excel<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>TODO&#8230;&#8203;</p>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="avro" class="sectionbody tracked-section">
                  <h2>Avro Files</h2>
                    <div class="paragraph">
                        <p>
                            Avro binary format is common in data engineering. Its main advantage is that <code>*.avro</code> files are saved with an embedded schema. So when they are read back, the fields are converted to the correct Java
                            types. This is different from CSV, as reading a <code>.csv</code> by default produces a DataFrame with all String columns. To work with the Avro format, include the following dependency:
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;dependency&gt;</span>
    <span class="tag">&lt;groupId&gt;</span>org.dflib<span class="tag">&lt;/groupId&gt;</span>
    <span class="tag">&lt;artifactId&gt;</span>dflib-avro<span class="tag">&lt;/artifactId&gt;</span>
<span class="tag">&lt;/dependency&gt;</span></code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>Once you do that, <code>Avro</code> class is the entry point to all the operations. With it you can save DataFrames to <code>.avro</code> files and load them back.</p>
                    </div>
                </div>
                <div class="sectionbody">
                    <div id="_avro_schema" class="sect2 tracked-section">
                        <h3>Avro Schema</h3>
                        <div class="paragraph">
                            <p>
                                In most cases you don&#8217;t need to know anything about Avro schemas. DFLib automatically generates a schema for a DataFrame before it is saved. Alternatively you can create a custom
                                <code>Schema</code> object based on <a href="https://avro.apache.org/docs/current/spec.html">Avro specification</a> and pass it to <code>AvroSaver</code>.
                            </p>
                        </div>
                        <div class="paragraph">
                            <p>TODO&#8230;&#8203;</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="jshell" class="sectionbody tracked-section">
                    <h2>Using JShell</h2>
                    <div class="paragraph">
                        <p>
                            Modern JDK installations come with <code>jshell</code>, a Read-Evaluate-Print Loop tool (aka REPL). DFLib can be used in JShell environment for interactive data exploration and code prototyping. For the best
                            experience, you may want to configure a couple of things. Start <code>jshell</code> and execute the following commands:
                        </p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre class="CodeRay highlight"><code>// Set classpath. There's no automatic dependency management in jshell.
// You will need to include all DFLib jars and their dependencies explicitly

/env --class-path /path/to/dflib-1.0.0-M20.jar:/path/to/dflib-csv-1.0.0-M20.jar</code></pre>
                        </div>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre class="CodeRay highlight"><code>// Disable data truncation. You want your data to be visible.

/set mode mine normal -command
/set truncation mine 40000
/set feedback mine</code></pre>
                        </div>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre class="CodeRay highlight"><code>// Add needed imports

import org.dflib.*;
import org.dflib.csv.*;

import static org.dflib.Exp.*;</code></pre>
                        </div>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre class="CodeRay highlight"><code>// Set tabular printer

Environment.setPrinter(Printers.tabular());</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>After this, you can start working with DataFrames and immediately check the output:</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre class="CodeRay highlight"><code>var df = Csv.load(&quot;../data/stuff.csv&quot;);</code></pre>
                        </div>
                    </div>
                    <div class="paragraph">
                        <p>JShell may print something like this</p>
                    </div>
                    <div class="listingblock">
                        <div class="content">
                            <pre>
df ==&gt;
id   name              salary
---- ----------------- --------
   1 Jerry Cosin       70000.0
   2 Juliana Walewski  85000.0
   3 Joan O'Hara       101000.0
...
 997 Jenny Harris      65000.0
 998 Matt Ostin        52000.0
 999 Andrew Tsui       99000.0
1000 rows x 3 columns
                            </pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div class="sectionbody tracked-section">
                    <h2 id="jupyter">Using Jupyter Notebook</h2>
                    <div class="paragraph">
                        <p>
                            While DFLib runs inside regular Java applications or <code>jshell</code>, it also works perfectly in Jupyter, which is a very common "notebook" environment among data scientists. In a notebook, you interact with
                            your code via a web browser in a rather "visual" way. It allows to run each step of a data transformation one-by-one and inspect the data between the steps. Jupyter is often associated with Python / pandas, but
                            it can also be used with Java / DFLib.
                        </p>
                    </div>
                    <div class="paragraph">
                        <p>
                            The code developed in a notebook can be later copied and pasted into your application. Java developers should consider using either Jupyter as a part of their data project workflow, and DFLib design (and its
                            Jupyter integration features described here) makes it rather easy.
                        </p>
                    </div>
                    <div class="admonitionblock note">
                        <table>
                            <tr>
                                <td class="icon">
                                    <i class="fa icon-note" title="Note"></i>
                                </td>
                                <td class="content">
                                    Currently, DFLib only provides integration for Jupyter. You can use other notebooks if they support Java. But you&#8217;ll be on your own. E.g. Apache Zeppelin, etc. Though you may have to write special
                                    code for the best DataFrame display experience.
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
                <div class="sectionbody">
                    <div id="_jupyter_installation_with_java_kernel" class="sect2 tracked-section">
                        <h3>Jupyter Installation with Java Kernel</h3>
                        <div class="admonitionblock note">
                            <table>
                                <tr>
                                    <td class="icon">
                                        <i class="fa icon-note" title="Note"></i>
                                    </td>
                                    <td class="content">
                                        While IntelliJ IDE supports Jupyter / Python, as of this writing, it seems that it does not support custom kernels, so we suggest to run your notebooks outside the IDE in the web browser.
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>
                                You will need to install Python, Jupyter and <a href="https://github.com/SpencerPark/IJava">iJava Jupyter kernel</a>. There are multiple ways of doing it. If you are on MacOS, using Homebrew is probably the
                                easiest:
                            </p>
                        </div>
                        <div class="olist arabic">
                            <ol class="arabic">
                                <li>
                                    <p>Download the latest release of <code>iJava</code> from <a href="https://github.com/SpencerPark/IJava/releases" class="bare">https://github.com/SpencerPark/IJava/releases</a></p>
                                </li>
                                <li>
                                    <p>Unpack it to some temporary directory</p>
                                </li>
                                <li>
                                    <p>Run the following commands:</p>
                                </li>
                            </ol>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="bash"># Install Jupyter (and, implicitly, Python)
brew install jupyter

# Change the directory to where you unpacked the IJava kernel
cd ijava-*

# find the version of Python used by Jupyter
PY=$(cat `which jupyter` |head -1 |cut -d'!' -f2)

# sanity check - the output should be a valid Python binary
# such as &quot;/opt/homebrew/Cellar/jupyterlab/4.1.0/libexec/bin/python&quot;
echo $PY

# install Java &quot;kernel&quot;
$PY install.py --sys-prefix</code></pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>If all these steps finished successfully, check that the Java kernel is installed:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="bash">jupyter kernelspec list

Available kernels:
  python3    /opt/homebrew/Cellar/jupyterlab/4.1.0/libexec/lib/python3.12/site-packages/ipykernel/resources
  java       /opt/homebrew/Cellar/jupyterlab/4.1.0/libexec/share/jupyter/kernels/java</code></pre>
                            </div>
                        </div>
                    </div>
                    <div id="_dflib_in_jupyter" class="sect2 tracked-section">
                        <h3>DFLib in Jupyter</h3>
                        <div class="paragraph">
                            <p>Start Jupyter</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre>jupyter notebook</pre>
                            </div>
                        </div>
                        <div class="paragraph">
                            <p>The browser opens. Click on "New &gt; Notebook", and when asked to select a kernel, pick "Java" from the dropdown. In the document cell enter something like this:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">%maven org.dflib:dflib-jupyter:<span class="float">1.0</span><span class="float">.0</span>-M20 <i class="conum" data-value="1"></i><b>(1)</b>

<span class="keyword">import</span> <span class="include">org.dflib.jupyter</span>.*;
<span class="keyword">import</span> <span class="include">org.dflib</span>.*;

DFLibJupyter.init(getKernelInstance());</code></pre>
                            </div>
                        </div>
                        <div class="colist arabic">
                            <table>
                                <tr>
                                    <td><i class="conum" data-value="1"></i><b>1</b></td>
                                    <td>It is enough to include <code>dflib-jupyter</code>. All other DFLib modules will be added through its transitive dependencies.</td>
                                </tr>
                            </table>
                        </div>
                        <div class="paragraph">
                            <p>Click "Shift + Return" to execute the cell. If there are no errors, you can start using DFLib API in the following cells. E.g.:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre
                                    class="CodeRay highlight"
                                ><code data-lang="java">DataFrame df = DataFrame.foldByColumn(<span class="string"><span class="delimiter">&quot;</span><span class="content">a</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">b</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">c</span><span class="delimiter">&quot;</span></span>)
    .ofInts(-<span class="integer">1</span>, <span class="integer">1</span>, <span class="integer">2</span>, <span class="integer">3</span>, <span class="integer">4</span>, <span class="integer">5</span>, <span class="integer">6</span>);

<span class="comment">// the result of the last statement in a cell is printed just below it</span>
df</code></pre>
                            </div>
                        </div>
                    </div>
                    <div id="_change_display_parameters" class="sect2 tracked-section">
                        <h3>Change Display Parameters</h3>
                        <div class="paragraph">
                            <p>To control truncation behavior, you can use static methods on <code>DFLibJupyter</code>:</p>
                        </div>
                        <div class="listingblock">
                            <div class="content">
                                <pre class="CodeRay highlight"><code data-lang="java">DFLibJupyter.setMaxDisplayRows(<span class="integer">10</span>);
DFLibJupyter.setMaxDisplayColumnWidth(<span class="integer">50</span>);</code></pre>
                            </div>
                        </div>
                    </div>
                    <div id="_notebooks_and_version_control" class="sect2 tracked-section">
                        <h3>Notebooks and Version Control</h3>
                        <div class="paragraph">
                            <p>
                                Jupyter places the data generated by the notebook in the notebook itself. This creates a challenge maintaining notebooks under version control. Assuming you are using Git, you will need to add Git hooks to
                                your project to strip off the data before commit.
                            </p>
                        </div>
                        <div class="paragraph">
                            <p><em>TODO: a recipe for excluding data</em></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="sect1">
                <div id="unit-testing" class="sectionbody tracked-section">
                    <h2>Unit Testing</h2>
                </div>
            </div>
          </div>
      </div></div></div>
    </section></main>
    <footer class="footer">
      <span>© 2024 ObjectStyle LLC and individual authors</span>
    </footer>
    <script src="../../js/nav_scroll.min.js" async></script>
    <script src="../../js/scripts.min.js" async></script>
  </body>
</html>